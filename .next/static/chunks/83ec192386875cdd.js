(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,51884,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(18566),s=e.i(99184),c=e.i(46696);let o=async()=>{try{let e=await s.apiClient.get("/api/profile");return{success:!0,user:e}}catch(e){return{success:!1,error:e.message}}},u=async e=>await s.apiClient.post("/api/auth/login",e),i=async e=>await s.apiClient.post("/api/auth/register",e),l=async e=>await s.apiClient.post("/api/auth/google-login",{idToken:e}),n=async()=>await s.apiClient.post("/api/auth/logout"),d=async()=>{try{let e=await s.apiClient.get("/api/jobs/options");return{success:!0,data:e}}catch(e){return e}},y=async()=>{try{let e=await s.apiClient.get("/api/education/options");return{success:!0,data:e}}catch(e){return e}},h=async()=>{try{let e=await s.apiClient.get("/api/feedback/status");return{success:!0,data:e.data}}catch(e){return e}},p=async()=>{try{let e=await s.apiClient.get("/api/survey/questions");return{success:!0,data:e}}catch(e){return e}},w=async()=>{try{let e=await s.apiClient.get("/api/survey/answers");return{success:!0,data:e}}catch(e){return e}},f=async e=>{try{let r=await s.apiClient.post("/api/survey/answers",{answers:e});return c.toast.success("Survey answers saved successfully"),{success:!0,data:r}}catch(e){return e}},g=async()=>{try{let e=await s.apiClient.get("/api/survey/deceased-family");return{success:!0,data:e}}catch(e){return e}},C=async e=>{try{let r=await s.apiClient.post("/api/survey/deceased-family",{members:e});return c.toast.success("Family information saved successfully"),{success:!0,data:r}}catch(e){return e}},v=async()=>{try{let e=await s.apiClient.get("/api/survey/statistics");return{success:!0,data:e.data}}catch(e){return e}},m=async e=>{try{let r=await s.apiClient.delete(`/api/survey/deceased-family/${e}`);return c.toast.success("Member deleted successfully"),{success:!0,data:r}}catch(e){return e}},b=async e=>{try{let r=await s.apiClient.put("/api/profile",e);return{success:!0,data:r}}catch(e){return{success:!1,error:e.message}}},S=async e=>{try{let r=await s.apiClient.post("/api/profile/switch",{profileId:e});return c.toast.success("Profile switched successfully"),{success:!0,data:r}}catch(e){return e}},k=async(e,r)=>{try{let t=await s.apiClient.post("/api/addProfile",{name:e,nikname:r});return c.toast.success("Profile added successfully"),{success:!0,data:t}}catch(e){return e}},P=async e=>{try{let r=await s.apiClient.get(`/api/prediction/${e.toLowerCase()}`);return{success:!0,data:r}}catch(r){return console.error(`Failed to get ${e} prediction:`,r),{success:!1,error:r.message}}},F=async e=>{try{let r=await s.apiClient.post("/api/prediction/feedback",e);return c.toast.success("Feedback submitted successfully"),{success:!0,data:r}}catch(e){return console.error("Failed to submit feedback:",e),c.toast.error("Failed to submit feedback"),{success:!1,error:e.message}}},A=async()=>{try{let e=await s.apiClient.get("/api/feedback");return{success:!0,data:e.data}}catch(e){return console.error("Failed to get feedbacks:",e),{success:!1,error:e.message}}},E=async()=>{try{let e=await s.apiClient.post("/api/horoscope/planethouse");return{success:!0,data:e}}catch(e){return e}},L=async()=>{try{let e=await s.apiClient.post("/api/horoscope/navanshaka");return{success:!0,data:e}}catch(e){return e}},R=async()=>{try{let e=await s.apiClient.post("/api/horoscope/mahadasha");return{success:!0,data:e}}catch(e){return e}},x=async()=>{try{let e=await s.apiClient.post("/api/horoscope/anthardasha");return{success:!0,data:e}}catch(e){return e}},D=async()=>{try{let e=await s.apiClient.post("/api/horoscope/astrologic");return{success:!0,data:e}}catch(e){return e}},G=(0,t.createContext)(void 0);e.s(["AuthProvider",0,({children:e})=>{let s=(0,a.useRouter)(),[j,M]=(0,t.useState)(!0),[T,K]=(0,t.useState)(!1),[U,$]=(0,t.useState)(null),[q,B]=(0,t.useState)({}),[I,O]=(0,t.useState)(null),[J,N]=(0,t.useState)(null),[Q,V]=(0,t.useState)(null),[z,H]=(0,t.useState)(null),[W,X]=(0,t.useState)(null),[Y,Z]=(0,t.useState)(null),[_,ee]=(0,t.useState)(null),[er,et]=(0,t.useState)(null),[ea,es]=(0,t.useState)(null),ec=(0,t.useRef)(!1),eo=(0,t.useRef)(0),eu=(0,t.useCallback)(async()=>{let e=Date.now();if(ec.current)return void console.log("Auth check already in progress, skipping...");if(e-eo.current<500)return void console.log("Auth check debounced");ec.current=!0,eo.current=e,M(!0);try{let e=await o();e.success&&e.user?(await eL(),await eS(),$(e.user),K(!0)):($(null),K(!1))}catch(e){$(null),K(!1)}finally{M(!1),ec.current=!1}},[]);(0,t.useEffect)(()=>{eu()},[eu]);let ei=async e=>{M(!0);try{await u(e),await eu(),c.toast.success("Login Successful!"),s.push("/")}catch(r){let e=r.message||"Login failed. Please try again.";throw c.toast.error(e),r}finally{M(!1)}},el=async e=>{M(!0);try{await i(e),c.toast.success("Account Created Successfully!")}catch(e){if(e.errors&&"object"==typeof e.errors)B(e.errors);else{let r=e.message||"Registration failed";c.toast.error(r)}throw e}finally{M(!1)}},en=async e=>{M(!0),B({});try{let r=await l(e);$(r?.user),await eu(),c.toast.success("Login Successful!")}catch(r){let e=r?.message||"Google login failed";throw c.toast.error(e),r}finally{M(!1)}},ed=async()=>{try{await n(),$(null),K(!1),Z(null),c.toast.info("Logged out successfully"),s.push("/auth")}catch(e){c.toast.error("Logout failed")}},ey=async e=>{M(!0);try{await b(e),await eu(),c.toast.success("Profile updated successfully")}catch(r){let e=r.message||"Profile update failed";throw c.toast.error(e),r}finally{M(!1)}},eh=(0,t.useCallback)(async(e,r)=>{if(!e||!r)return void c.toast.error("Name and nickname are required");M(!0);try{let t=await k(e,r);if(t.success)await eu(),c.toast.success("Profile added successfully");else throw Error(t.error||"Failed to add profile")}catch(e){throw console.error("Add profile error:",e),c.toast.error(e.message||"Failed to add profile"),e}finally{M(!1)}},[eu]),ep=(0,t.useCallback)(async e=>{if(!e)return void c.toast.error("Invalid profile ID");M(!0);try{let r=await S(e);if(r.success)await eu(),Z(null),c.toast.success("Profile switched successfully");else throw Error(r.error||"Failed to switch profile")}catch(e){throw console.error("Profile switch error:",e),c.toast.error(e.message||"Failed to switch profile"),e}finally{M(!1)}},[eu]),ew=async()=>{try{let e=await E();e.success?O(e.data):O(null)}catch(e){throw O(null),e}},ef=async()=>{try{let e=await L();e.success?N(e.data):N(null)}catch(e){throw N(null),e}},eg=async()=>{try{let e=await R();e.success?V(e.data):V(null)}catch(e){throw V(null),e}},eC=async()=>{try{let e=await x();e.success?H(e.data):H(null)}catch(e){throw H(null),e}},ev=(0,t.useCallback)(async()=>{try{let e=["Sun","Moon","Mars","Mercury","Jupiter","Venus","Saturn","Rahu","Ketu"],r=await Promise.allSettled(e.map(e=>P(e))),t={};return r.forEach((r,a)=>{"fulfilled"===r.status&&r.value.success&&(t[e[a]]=r.value.data)}),Z(t),{success:!0,data:t}}catch(e){throw console.error("Error loading predictions:",e),Z(null),e}},[]),em=(0,t.useCallback)(async e=>{try{let r=await F(e);if(r.success)return await eb(),await eS(),r;throw Error(r.error||"Failed to submit feedback")}catch(e){throw console.error("Submit feedback error:",e),e}},[]),eb=(0,t.useCallback)(async()=>{try{let e=await A();if(e.success)ee(e.data);else throw Error(e.error||"Failed to get feedbacks")}catch(e){throw console.error("Submit feedback error:",e),e}},[em]),eS=async()=>{try{let e=await h();if(e.success)return et(e.data)}catch(e){console.error("GetFeedbackStatus error:",e)}},ek=async()=>{try{let e=await p();if(e.success)return e.data}catch(e){console.error("GetSurveyQuestions error",e)}},eP=async()=>{try{let e=await w();if(e.success)return e.data}catch(e){console.error("GetUserSurveyAnswers error",e)}},eF=async e=>{try{let r=await f(e);if(r.success)return c.toast.success("Answers saved successfully"),r.data}catch(e){console.error("SaveSurveyAnswers error",e)}},eA=async()=>{try{let e=await g();if(e.success)return e.data}catch(e){console.error("GetDeceasedFamily error",e)}},eE=async e=>{try{let r=await C(e);if(r.success)return r.data}catch(e){console.error("SaveDeceasedFamily error",e)}},eL=async()=>{try{let e=await v();if(e.success)return es(e.data)}catch(e){console.error("GetSurveyStatus error",e)}},eR=async e=>{try{let r=await m(e);if(r.success)return r.data}catch(e){console.error("DeleteDeceasedMember error",e)}},ex=async()=>{try{let e=await d();if(e.success)return e.data;throw Error(e.error)}catch(e){throw e}},eD=async()=>{try{let e=await y();if(e.success)return e.data;throw Error(e.error)}catch(e){throw e}},eG=async()=>{try{let e=await D();e.success?X(e.data.result.data):X(null)}catch(e){throw X(null),e}};return(0,r.jsx)(G.Provider,{value:{user:U,loading:j,isAuthenticated:T,errors:q,login:ei,signUp:el,handleGoogleLogin:en,checkAuth:eu,logout:ed,addProfile:eh,switchProfile:ep,updateProfile:ey,GetPlanet:ew,planet:I,Getnavam:ef,navam:J,Getmahadasha:eg,mahadaha:Q,getAntharDasha:eC,anthardahsa:z,predictions:Y,getPredictions:ev,submitPredictionFeedback:em,feedbackStatus:_,getAllFeedbackPredciton:eb,GetSurveyQuestions:ek,DeleteDeceasedMember:eR,GetSurveyStatus:eL,saveDeceasedFamily:eE,GetDeceasedFamily:eA,SaveSurveyAnswers:eF,GetUserSurveyAnswers:eP,getJobsOptions:ex,getEducationOptions:eD,servaysStatus:ea,AstroLogic:eG,astro:W,feedbackcompleteStatus:er},children:e})},"useAuth",0,()=>{let e=(0,t.useContext)(G);if(!e)throw Error("useAuth must be used within AuthProvider");return e}],51884)},43467,e=>{"use strict";var r=e.i(43476),t=e.i(71645);let a=(0,t.createContext)({language:"en",setLanguage:()=>{}});e.s(["LanguageProvider",0,({children:e})=>{let[s,c]=(0,t.useState)("en");return(0,r.jsx)(a.Provider,{value:{language:s,setLanguage:c},children:e})},"default",0,a,"useLanguage",0,()=>{let e=(0,t.useContext)(a);if(!e)throw Error("useLanguage must be used within a LanguageProvider");return e}])}]);