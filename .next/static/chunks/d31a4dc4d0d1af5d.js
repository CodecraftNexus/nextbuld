(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,98183,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r={assign:function(){return o},searchParamsToUrlQuery:function(){return l},urlQueryToSearchParams:function(){return n}};for(var s in r)Object.defineProperty(a,s,{enumerable:!0,get:r[s]});function l(e){let t={};for(let[a,r]of e.entries()){let e=t[a];void 0===e?t[a]=r:Array.isArray(e)?e.push(r):t[a]=[e,r]}return t}function i(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function n(e){let t=new URLSearchParams;for(let[a,r]of Object.entries(e))if(Array.isArray(r))for(let e of r)t.append(a,i(e));else t.set(a,i(r));return t}function o(e,...t){for(let a of t){for(let t of a.keys())e.delete(t);for(let[t,r]of a.entries())e.append(t,r)}return e}},95057,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r={formatUrl:function(){return n},formatWithValidation:function(){return d},urlObjectKeys:function(){return o}};for(var s in r)Object.defineProperty(a,s,{enumerable:!0,get:r[s]});let l=e.r(90809)._(e.r(98183)),i=/https?|ftp|gopher|file/;function n(e){let{auth:t,hostname:a}=e,r=e.protocol||"",s=e.pathname||"",n=e.hash||"",o=e.query||"",d=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?d=t+e.host:a&&(d=t+(~a.indexOf(":")?`[${a}]`:a),e.port&&(d+=":"+e.port)),o&&"object"==typeof o&&(o=String(l.urlQueryToSearchParams(o)));let c=e.search||o&&`?${o}`||"";return r&&!r.endsWith(":")&&(r+=":"),e.slashes||(!r||i.test(r))&&!1!==d?(d="//"+(d||""),s&&"/"!==s[0]&&(s="/"+s)):d||(d=""),n&&"#"!==n[0]&&(n="#"+n),c&&"?"!==c[0]&&(c="?"+c),s=s.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${r}${d}${s}${c}${n}`}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function d(e){return n(e)}},18967,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r={DecodeError:function(){return f},MiddlewareNotFoundError:function(){return v},MissingStaticPage:function(){return j},NormalizeError:function(){return b},PageNotFoundError:function(){return y},SP:function(){return p},ST:function(){return g},WEB_VITALS:function(){return l},execOnce:function(){return i},getDisplayName:function(){return m},getLocationOrigin:function(){return d},getURL:function(){return c},isAbsoluteUrl:function(){return o},isResSent:function(){return u},loadGetInitialProps:function(){return h},normalizeRepeatedSlashes:function(){return x},stringifyError:function(){return w}};for(var s in r)Object.defineProperty(a,s,{enumerable:!0,get:r[s]});let l=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,a=!1;return(...r)=>(a||(a=!0,t=e(...r)),t)}let n=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>n.test(e);function d(){let{protocol:e,hostname:t,port:a}=window.location;return`${e}//${t}${a?":"+a:""}`}function c(){let{href:e}=window.location,t=d();return e.substring(t.length)}function m(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function u(e){return e.finished||e.headersSent}function x(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function h(e,t){let a=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await h(t.Component,t.ctx)}:{};let r=await e.getInitialProps(t);if(a&&u(a))return r;if(!r)throw Object.defineProperty(Error(`"${m(e)}.getInitialProps()" should resolve to an object. But found "${r}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r}let p="undefined"!=typeof performance,g=p&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class f extends Error{}class b extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class j extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function w(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"isLocalURL",{enumerable:!0,get:function(){return l}});let r=e.r(18967),s=e.r(52817);function l(e){if(!(0,r.isAbsoluteUrl)(e))return!0;try{let t=(0,r.getLocationOrigin)(),a=new URL(e,t);return a.origin===t&&(0,s.hasBasePath)(a.pathname)}catch(e){return!1}}},84508,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"errorOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},22016,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r={default:function(){return f},useLinkStatus:function(){return y}};for(var s in r)Object.defineProperty(a,s,{enumerable:!0,get:r[s]});let l=e.r(90809),i=e.r(43476),n=l._(e.r(71645)),o=e.r(95057),d=e.r(8372),c=e.r(18581),m=e.r(18967),u=e.r(5550);e.r(33525);let x=e.r(91949),h=e.r(73668),p=e.r(9396);function g(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function f(t){var a;let r,s,l,[o,f]=(0,n.useOptimistic)(x.IDLE_LINK_STATUS),y=(0,n.useRef)(null),{href:j,as:v,children:w,prefetch:N=null,passHref:k,replace:$,shallow:C,scroll:P,onClick:S,onMouseEnter:M,onTouchStart:_,legacyBehavior:L=!1,onNavigate:T,ref:O,unstable_dynamicOnHover:z,...E}=t;r=w,L&&("string"==typeof r||"number"==typeof r)&&(r=(0,i.jsx)("a",{children:r}));let F=n.default.useContext(d.AppRouterContext),A=!1!==N,D=!1!==N?null===(a=N)||"auto"===a?p.FetchStrategy.PPR:p.FetchStrategy.Full:p.FetchStrategy.PPR,{href:I,as:U}=n.default.useMemo(()=>{let e=g(j);return{href:e,as:v?g(v):e}},[j,v]);if(L){if(r?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});s=n.default.Children.only(r)}let B=L?s&&"object"==typeof s&&s.ref:O,q=n.default.useCallback(e=>(null!==F&&(y.current=(0,x.mountLinkInstance)(e,I,F,D,A,f)),()=>{y.current&&((0,x.unmountLinkForCurrentNavigation)(y.current),y.current=null),(0,x.unmountPrefetchableInstance)(e)}),[A,I,F,D,f]),R={ref:(0,c.useMergedRef)(q,B),onClick(t){L||"function"!=typeof S||S(t),L&&s.props&&"function"==typeof s.props.onClick&&s.props.onClick(t),!F||t.defaultPrevented||function(t,a,r,s,l,i,o){if("undefined"!=typeof window){let d,{nodeName:c}=t.currentTarget;if("A"===c.toUpperCase()&&((d=t.currentTarget.getAttribute("target"))&&"_self"!==d||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,h.isLocalURL)(a)){l&&(t.preventDefault(),location.replace(a));return}if(t.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:m}=e.r(99781);n.default.startTransition(()=>{m(r||a,l?"replace":"push",i??!0,s.current)})}}(t,I,U,y,$,P,T)},onMouseEnter(e){L||"function"!=typeof M||M(e),L&&s.props&&"function"==typeof s.props.onMouseEnter&&s.props.onMouseEnter(e),F&&A&&(0,x.onNavigationIntent)(e.currentTarget,!0===z)},onTouchStart:function(e){L||"function"!=typeof _||_(e),L&&s.props&&"function"==typeof s.props.onTouchStart&&s.props.onTouchStart(e),F&&A&&(0,x.onNavigationIntent)(e.currentTarget,!0===z)}};return(0,m.isAbsoluteUrl)(U)?R.href=U:L&&!k&&("a"!==s.type||"href"in s.props)||(R.href=(0,u.addBasePath)(U)),l=L?n.default.cloneElement(s,R):(0,i.jsx)("a",{...E,...R,children:r}),(0,i.jsx)(b.Provider,{value:o,children:l})}e.r(84508);let b=(0,n.createContext)(x.IDLE_LINK_STATUS),y=()=>(0,n.useContext)(b);("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),t.exports=a.default)},31713,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),s=e.i(51884),l=e.i(75254);let i=(0,l.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);var n=e.i(25652),o=e.i(84614),d=e.i(92270);let c=(0,l.default)("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);var m=e.i(7233),u=e.i(43531);let x=(0,l.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var h=e.i(37727);let p=(0,l.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var g=e.i(57688),f=e.i(46696);let b=({account:e,isCurrent:a,onClick:r,isSwitching:s})=>(0,t.jsx)("button",{onClick:r,disabled:s||a,className:"w-full p-3 rounded-2xl hover:bg-purple-50/70 transition-all duration-200 group disabled:opacity-60 disabled:cursor-not-allowed",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 p-0.5",children:(0,t.jsx)("div",{className:"w-full h-full rounded-xl bg-white/20 flex items-center justify-center overflow-hidden",children:e.profileImage?(0,t.jsx)(g.default,{src:e.profileImage,alt:e.name,width:40,height:40,className:"w-full h-full object-cover rounded-xl"}):(0,t.jsx)("span",{className:"text-lg font-bold text-white",children:e.name.charAt(0).toUpperCase()})})}),e.isMain&&(0,t.jsx)("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-full flex items-center justify-center shadow-md animate-pulse",children:(0,t.jsx)(x,{className:"w-3.5 h-3.5 text-white",fill:"white"})})]}),(0,t.jsxs)("div",{className:"flex-1 text-left",children:[(0,t.jsx)("p",{className:"font-semibold text-gray-900 capitalize",children:e.nickname}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.name})]}),a&&(0,t.jsx)(u.Check,{className:"w-5 h-5 text-purple-600 animate-pulse"})]})}),y=({onclick:e,currentAccount:r,accounts:s,isProfileOpen:l,onSwitchAccount:i,onAddAccount:n,logout:o,isAdmin:u=!1,onNavigate:y})=>{let[j,v]=(0,a.useState)(!1),[w,N]=(0,a.useState)(!1),[k,$]=(0,a.useState)(""),[C,P]=(0,a.useState)(""),[S,M]=(0,a.useState)(!1),_=async t=>{if(!S&&t.id!==r?.id){M(!0);try{i?.(t),v(!1),e()}catch(e){console.error("Switch account error:",e)}finally{M(!1)}}},L=s.find(e=>e.isMain),T=s.filter(e=>!e.isMain);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:e,className:"group relative px-3 md:px-4 py-2.5 flex items-center gap-2.5 rounded-2xl bg-white/80 backdrop-blur-md border border-white/20 shadow-lg hover:shadow-xl hover:bg-white/90 transition-all duration-300",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 p-0.5",children:(0,t.jsx)("div",{className:"w-full h-full rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center overflow-hidden",children:r?.profileImage?(0,t.jsx)(g.default,{src:r.profileImage,alt:r.name,width:32,height:32,className:"w-full h-full object-cover rounded-full"}):(0,t.jsx)("span",{className:"text-white font-bold text-base",children:r?.name?.charAt(0).toUpperCase()})})}),r?.isMain&&(0,t.jsx)("div",{className:"absolute -top-1 -right-1 w-4.5 h-4.5 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-full flex items-center justify-center shadow-md animate-pulse",children:(0,t.jsx)(x,{className:"w-3 h-3 text-white",fill:"white"})})]}),(0,t.jsxs)("div",{className:"hidden md:block text-left",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-800 capitalize",children:r?.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:r?.isMain?"Main Account":"Sub Account"})]}),(0,t.jsx)(p,{className:`w-4 h-4 text-gray-600 transition-transform duration-300 ${l?"rotate-180":""}`})]}),l&&(0,t.jsxs)("div",{className:"absolute right-0 mt-3 w-80 bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/30 overflow-hidden z-50 animate-in fade-in slide-in-from-top-4 duration-300",children:[(0,t.jsx)("div",{className:"p-5 bg-gradient-to-br from-blue-500/10 via-purple-500/10 to-pink-500/10 border-b border-white/20",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-blue-500 via-purple-600 to-pink-600 p-0.5 shadow-lg",children:(0,t.jsx)("div",{className:"w-full h-full rounded-2xl bg-white/20 backdrop-blur flex items-center justify-center overflow-hidden",children:r?.profileImage?(0,t.jsx)(g.default,{src:r.profileImage,alt:r.name,width:56,height:56,className:"w-full h-full object-cover rounded-2xl"}):(0,t.jsx)("span",{className:"text-3xl font-bold text-white",children:r?.name?.charAt(0).toUpperCase()})})}),r?.isMain&&(0,t.jsx)("div",{className:"absolute -top-1.5 -right-1.5 w-7 h-7 bg-gradient-to-br from-yellow-400 to-amber-600 rounded-full flex items-center justify-center shadow-xl animate-pulse",children:(0,t.jsx)(x,{className:"w-4.5 h-4.5 text-white",fill:"white"})})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-900 capitalize",children:r?.nickname}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:r?.name}),r?.isMain&&(0,t.jsx)("span",{className:"inline-block mt-2 px-3 py-1 bg-yellow-100 text-yellow-800 text-xs font-semibold rounded-full",children:"â­ Main Profile"})]})]})}),(0,t.jsx)("div",{className:"p-3 space-y-1",children:(0,t.jsxs)("button",{onClick:()=>{y("/profile"),e()},className:"w-full flex items-center gap-4 px-4 py-3 rounded-2xl hover:bg-purple-50/70 hover:shadow-md transition-all duration-200 group",children:[(0,t.jsx)(c,{className:"w-5 h-5 text-purple-600 group-hover:scale-110 transition-transform"}),(0,t.jsx)("span",{className:"font-medium text-gray-800",children:"My Profile"})]})}),(0,t.jsxs)("div",{className:"border-t border-gray-200/50",children:[(0,t.jsxs)("button",{onClick:()=>v(!j),className:"w-full flex items-center justify-between px-5 py-3.5 hover:bg-gray-50/70 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100 flex items-center justify-center",children:(0,t.jsx)(c,{className:"w-5 h-5 text-indigo-600"})}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("p",{className:"font-semibold text-gray-800",children:"Switch Profile"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[s.length,"/10 profiles"]})]})]}),(0,t.jsx)(p,{className:`w-5 h-5 text-gray-500 transition-transform ${j?"rotate-180":""}`})]}),j&&(0,t.jsxs)("div",{className:"px-3 pb-3 max-h-64 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300",children:[L&&(0,t.jsx)(b,{account:L,isCurrent:L.id===r?.id,onClick:()=>_(L),isSwitching:S}),T.map(e=>(0,t.jsx)(b,{account:e,isCurrent:e.id===r?.id,onClick:()=>_(e),isSwitching:S},e.id)),r?.isMain&&s.length<10&&(0,t.jsxs)("button",{onClick:()=>N(!0),className:"w-full mt-3 flex items-center gap-3 px-4 py-3.5 rounded-2xl bg-gradient-to-r from-blue-500 to-purple-600 text-white font-medium hover:shadow-lg hover:scale-105 transition-all duration-300",children:[(0,t.jsx)(m.Plus,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"Add New Profile"})]}),s.length>=10&&(0,t.jsx)("p",{className:"text-center text-sm text-gray-500 py-3",children:"Maximum 10 profiles reached"})]})]}),(0,t.jsx)("div",{className:"border-t border-gray-200/50 p-3",children:(0,t.jsxs)("button",{onClick:()=>{o?.(),e()},className:"w-full flex items-center gap-4 px-4 py-3 rounded-2xl hover:bg-red-50 text-red-600 font-medium transition-all duration-200 group",children:[(0,t.jsx)(d.LogOut,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"}),(0,t.jsx)("span",{children:"Logout"})]})})]})]}),w&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-300",children:(0,t.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 duration-300",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-500 via-purple-600 to-pink-600 p-6 text-white",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Create New Profile"}),(0,t.jsx)("button",{onClick:()=>{N(!1),$(""),P("")},className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:(0,t.jsx)(h.X,{className:"w-6 h-6"})})]})}),(0,t.jsxs)("div",{className:"p-8 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),(0,t.jsx)("input",{type:"text",value:k,onChange:e=>$(e.target.value),placeholder:"e.g. Kasun Perera",className:"w-full px-5 py-4 text-lg border-2 border-gray-200 rounded-2xl focus:border-purple-500 focus:ring-4 focus:ring-purple-100 outline-none transition-all"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nickname (Display Name)"}),(0,t.jsx)("input",{type:"text",value:C,onChange:e=>P(e.target.value),placeholder:"e.g. Kasun",className:"w-full px-5 py-4 text-lg border-2 border-gray-200 rounded-2xl focus:border-purple-500 focus:ring-4 focus:ring-purple-100 outline-none transition-all"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 p-8 pt-0",children:[(0,t.jsx)("button",{onClick:()=>{N(!1),$(""),P("")},className:"flex-1 py-4 rounded-2xl border-2 border-gray-300 text-gray-700 font-semibold hover:bg-gray-50 transition-all",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{s.length>=10?f.toast.warning("Maximum 10 profiles allowed!"):k.trim()&&C.trim()&&(n?.(k.trim(),C.trim()),$(""),P(""),N(!1),v(!1),e())},disabled:!k.trim()||!C.trim(),className:"flex-1 py-4 rounded-2xl bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Create Profile"})]})]})})]})};var j=e.i(22016);let v=(0,l.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),w=(0,l.default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),N=(0,l.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),k=(0,l.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),$={unlockSilverPackage:{en:"Unlock Silver Package",si:"à¶»à·’à¶¯à·“ à¶´à·à¶šà·šà¶¢à¶º à¶…à¶œà·”à·…à·” à·„à¶»à·’à¶±à·Šà¶±",ta:"à®µà¯†à®³à¯à®³à®¿ à®¤à¯Šà®•à¯à®ªà¯à®ªà¯ˆà®¤à¯ à®¤à®¿à®±à®•à¯à®•à®µà¯à®®à¯"},profileCompletion:{en:"Profile Completion",si:"à¶´à·à¶­à·’à¶šà¶© à·ƒà¶¸à·Šà¶´à·–à¶»à·Šà¶« à¶šà·’à¶»à·“à¶¸",ta:"à®šà¯à®¯à®µà®¿à®µà®° à®¨à®¿à®±à¯ˆà®µà¯"},stepsCompleted:{en:"steps completed",si:"à¶´à·’à¶ºà·€à¶» à·ƒà¶¸à·Šà¶´à·–à¶»à·Šà¶«à¶ºà·’",ta:"à®ªà®Ÿà®¿à®•à®³à¯ à®®à¯à®Ÿà®¿à®¨à¯à®¤à®©"},updateProfile:{en:"Update Profile",si:"à¶´à·à¶­à·’à¶šà¶© à¶ºà·à·€à¶­à·Šà¶šà·à¶½à·“à¶± à¶šà¶»à¶±à·Šà¶±",ta:"à®šà¯à®¯à®µà®¿à®µà®°à®¤à¯à®¤à¯ˆà®ªà¯ à®ªà¯à®¤à¯à®ªà¯à®ªà®¿à®•à¯à®•à®µà¯à®®à¯"},givePredictionFeedback:{en:"Give Prediction Feedback",si:"à¶…à¶±à·à·€à·à¶šà·’ à¶´à·Šâ€à¶»à¶­à·’à¶ à·à¶» à¶¯à·™à¶±à·Šà¶±",ta:"à®•à®£à®¿à®ªà¯à®ªà¯ à®•à®°à¯à®¤à¯à®¤à¯ à®µà®´à®™à¯à®•à®µà¯à®®à¯"},completeSurveys:{en:"Complete Surveys",si:"à·ƒà¶¸à·“à¶šà·Šà·‚à¶« à·ƒà¶¸à·Šà¶´à·–à¶»à·Šà¶« à¶šà¶»à¶±à·Šà¶±",ta:"à®•à®£à®•à¯à®•à¯†à®Ÿà¯à®ªà¯à®ªà¯à®•à®³à¯ˆ à®¨à®¿à®±à¯ˆà®µà¯ à®šà¯†à®¯à¯à®¯à®µà¯à®®à¯"},pending:{en:"Pending",si:"à¶…à¶´à·šà¶šà·Šà·‚à·’à¶­à¶ºà·’",ta:"à®¨à®¿à®²à¯à®µà¯ˆà®¯à®¿à®²à¯"},minimize:{en:"Minimize",si:"à¶šà·”à¶©à· à¶šà¶»à¶±à·Šà¶±",ta:"à®•à¯à®±à¯ˆà®¤à¯à®¤à®²à¯"},feedbackProgress:{en:"predictions rated",si:"à¶…à¶±à·à·€à·à¶šà·’ à·à·Šâ€à¶»à·šà¶«à·’à¶œà¶­ à¶šà¶» à¶‡à¶­",ta:"à®•à®£à®¿à®ªà¯à®ªà¯à®•à®³à¯ à®®à®¤à®¿à®ªà¯à®ªà®¿à®Ÿà®ªà¯à®ªà®Ÿà¯à®Ÿà®©"},surveyProgress:{en:"surveys rated",si:"à¶¸à¶­ à·€à·’à¶¸à·ƒà·”à¶¸à·Š à·à·Šâ€à¶»à·šà¶«à·’à¶œà¶­ à¶šà¶» à¶‡à¶­",ta:"à®•à®°à¯à®¤à¯à®¤à¯à®•à¯ à®•à®£à®¿à®ªà¯à®ªà¯à®•à®³à¯ à®®à®¤à®¿à®ªà¯à®ªà®¿à®Ÿà®ªà¯à®ªà®Ÿà¯à®Ÿà®©"},silverUnlockedToast:{en:"ðŸŽ‰ Silver Package Unlocked!",si:"ðŸŽ‰ à¶»à·’à¶¯à·“ à¶´à·à¶šà·šà¶¢à¶º à¶…à¶œà·”à·…à·” à·„à·à¶» à¶‡à¶­!",ta:"ðŸŽ‰ à®µà¯†à®³à¯à®³à®¿ à®¤à¯Šà®•à¯à®ªà¯à®ªà¯ à®¤à®¿à®±à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯!"},silverBenefitsToast:{en:"You can now view Daily & Weekly Predictions!",si:"à¶¯à·à¶±à·Š à¶”à¶¶à¶§ à¶¯à·›à¶±à·’à¶š à·ƒà·„ à·ƒà¶­à·’à¶´à¶­à· à¶…à¶±à·à·€à·à¶šà·’ à¶¶à·à¶½à·“à¶¸à¶§ à·„à·à¶šà·’à¶º!",ta:"à®‡à®ªà¯à®ªà¯‹à®¤à¯ à®¨à¯€à®™à¯à®•à®³à¯ à®¤à®¿à®©à®šà®°à®¿ & à®µà®¾à®°à®¾à®¨à¯à®¤à®¿à®° à®•à®£à®¿à®ªà¯à®ªà¯à®•à®³à¯ˆà®ªà¯ à®ªà®¾à®°à¯à®•à¯à®• à®®à¯à®Ÿà®¿à®¯à¯à®®à¯!"}};function C({user:e,language:r,isMinimized:l=!0,onToggle:i}){let{feedbackcompleteStatus:n,servaysStatus:o}=(0,s.useAuth)(),[d,c]=(0,a.useState)(!1),[m,u]=(0,a.useState)([{id:"profile",key:"updateProfile",completed:!1},{id:"feedback",key:"givePredictionFeedback",completed:!1},{id:"surveys",key:"completeSurveys",completed:!1}]),[x,h]=(0,a.useState)(0);(0,a.useEffect)(()=>{let e=setTimeout(()=>c(!0),100);return()=>clearTimeout(e)},[]),(0,a.useEffect)(()=>{if(e){let t=[...m],a=!!(e.dateOfBirth&&e.birthTime&&e.birthLocation&&e.whatsappNumber&&"+94"!==e.whatsappNumber);t[0].completed=a;let r=n.allPlanetsCompleted;t[1].completed=r;let s=o.isComplete;t[2].completed=s||!1,u(t)}},[e,n,o]);let p=m.filter(e=>e.completed).length,g=m.length,b=p/g*100,y=p===g;(0,a.useEffect)(()=>{y&&x<g&&(f.toast.success($.silverUnlockedToast[r],{duration:5e3,icon:"ðŸŽ‰"}),setTimeout(()=>{f.toast.success($.silverBenefitsToast[r],{duration:6e3,icon:"â­"})},800)),h(p)},[y,p,r,x,g]);let j=m.find(e=>!e.completed),C=j?$[j.key][r]:$.updateProfile[r],P=e=>"si"===e?"sinhala-text":"ta"===e?"tamil-text":"english-text";return y?(0,t.jsx)("div",{className:`transition-all duration-1000 ease-out ${d?"opacity-0 -translate-y-8":"opacity-0"}`,style:{height:d?"auto":0,overflow:"hidden"}}):l?(0,t.jsx)("div",{onClick:i,className:`bg-gradient-to-r from-purple-500 to-indigo-500 rounded-2xl shadow-lg p-4 border border-purple-300 cursor-pointer hover:shadow-xl transition-all duration-500 ${d?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(N,{className:"w-6 h-6 text-white"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:`text-white font-bold text-sm md:text-base ${P(r)}`,children:$.unlockSilverPackage[r]}),(0,t.jsxs)("p",{className:"text-purple-100 text-xs mt-1",children:[p,"/",g," ",$.stepsCompleted[r]," â€¢"," ",(0,t.jsx)("span",{className:"font-medium",children:C})]}),n&&m[0].completed&&!m[1].completed&&(0,t.jsxs)("p",{className:"text-purple-100 text-xs mt-1",children:["ðŸ“Š ",n.totalCompletedSentences,"/",n.totalSentencesAllPlanets," ",$.feedbackProgress[r]]}),o&&m[1].completed&&!m[2].completed&&(0,t.jsxs)("p",{className:"text-purple-100 text-xs mt-1",children:["ðŸ“Š ",o.totalApplicableQuestions,"/",n.answeredQuestions," ",$.surveyProgress[r]]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"text-right",children:(0,t.jsxs)("div",{className:"text-2xl font-bold text-white",children:[Math.round(b),"%"]})}),(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:(0,t.jsxs)("svg",{className:"w-10 h-10 transform -rotate-90",children:[(0,t.jsx)("circle",{cx:"20",cy:"20",r:"16",stroke:"rgba(255,255,255,0.3)",strokeWidth:"3",fill:"none"}),(0,t.jsx)("circle",{cx:"20",cy:"20",r:"16",stroke:"white",strokeWidth:"3",fill:"none",strokeDasharray:`${2*Math.PI*16}`,strokeDashoffset:`${2*Math.PI*16*(1-b/100)}`,className:"transition-all duration-700"})]})})]})]})}):(0,t.jsxs)("div",{className:`bg-gradient-to-br from-purple-50 to-indigo-50 rounded-3xl shadow-xl p-6 md:p-8 border border-purple-200 transition-all duration-700 ease-out ${d?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"}`,children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(N,{className:"w-8 h-8 text-purple-600 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:`text-2xl md:text-3xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent ${P(r)}`,children:$.unlockSilverPackage[r]}),(0,t.jsx)("p",{className:`text-sm text-gray-600 mt-1 ${P(r)}`,children:$.profileCompletion[r]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-4",children:[(0,t.jsxs)("div",{className:"text-right sm:text-left",children:[(0,t.jsxs)("div",{className:"text-3xl md:text-4xl font-bold text-purple-600",children:[p,"/",g]}),(0,t.jsx)("p",{className:`text-xs text-gray-600 ${P(r)}`,children:$.stepsCompleted[r]})]}),(0,t.jsxs)("button",{onClick:i,className:"flex items-center justify-center gap-2 bg-purple-100 hover:bg-purple-200 text-purple-700 font-medium px-5 py-3 rounded-xl transition-all duration-300 w-full sm:w-auto",children:[$.minimize[r],(0,t.jsx)(k,{className:"w-5 h-5"})]})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("div",{className:"relative h-4 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-purple-500 to-indigo-500 transition-all duration-700 ease-out",style:{width:`${b}%`},children:(0,t.jsx)("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),(0,t.jsx)("div",{className:"text-right mt-2",children:(0,t.jsxs)("span",{className:"text-sm font-semibold text-purple-600",children:[Math.round(b),"%"]})})]}),(0,t.jsx)("div",{className:"space-y-4",children:m.map((e,a)=>(0,t.jsxs)("div",{className:`flex items-center gap-4 p-4 rounded-2xl transition-all duration-500 ${e.completed?"bg-green-50 border-2 border-green-300":"bg-white border-2 border-gray-200"}`,style:{transitionDelay:`${100*a}ms`},children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:e.completed?(0,t.jsx)(v,{className:"w-8 h-8 text-green-600"}):(0,t.jsx)(w,{className:"w-8 h-8 text-gray-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:`font-bold text-lg ${e.completed?"text-green-700":"text-gray-700"} ${P(r)}`,children:$[e.key][r]}),(0,t.jsx)("p",{className:`text-sm ${e.completed?"text-green-600":"text-gray-500"} ${P(r)}`,children:e.completed?"Completed":$.pending[r]}),"surveys"===e.id&&!e.completed&&o&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-400 to-purple-400 transition-all duration-500",style:{width:`${o.overallCompletionPercentage}%`}})}),(0,t.jsxs)("span",{className:"text-xs font-semibold text-gray-600",children:[o.answeredQuestions,"/",o.totalApplicableQuestions]})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[o.overallCompletionPercentage,"%"," ",$.surveyProgress[r]]})]}),"feedback"===e.id&&!e.completed&&n&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-400 to-purple-400 transition-all duration-500",style:{width:`${n.overallCompletionPercentage}%`}})}),(0,t.jsxs)("span",{className:"text-xs font-semibold text-gray-600",children:[n.totalCompletedSentences,"/",n.totalSentencesAllPlanets]})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[n.overallCompletionPercentage,"%"," ",$.feedbackProgress[r]]})]})]}),(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-300",children:a+1})]},e.id))})]})}let P=({children:e,onNavigate:r,user:s,logout:l,curruntPage:d,AddnewProfile:c,onSwitchAccount:m,isProfileOpen:u,setIsProfileOpen:x})=>{let[h,p]=(0,a.useState)(!0),g=[{name:"Home",path:"/",icon:(0,t.jsx)(i,{className:"w-6 h-6"})},{name:"Predictions",path:"/predictions",icon:(0,t.jsx)(n.TrendingUp,{className:"w-6 h-6"})},{name:"Profile",path:"/profile",icon:(0,t.jsx)(o.User,{className:"w-6 h-6"})}],f={id:s?.id,name:s?.name,nickname:s?.reference==null?"me":s?.nikname,isMain:s?.reference==null,profileImage:s?.profileImage},b=a.default.useMemo(()=>{if(!s)return[];let e=[];return null!=s.reference&&s.mainUser&&e.push({id:s.mainUser.id,name:s.mainUser.name,nickname:s.mainUser.nikname||"me",isMain:!0,profileImage:s.mainUser.profileImage}),e.push(f),s.profiles&&Array.isArray(s.profiles)&&s.profiles.forEach(t=>{t.id!==s.id&&e.push({id:t.id,name:t.name,nickname:t.nikname,isMain:!1,profileImage:t?.ProfileImages?.[0]?.imagePath})}),e},[s]),v=()=>{x(!u)},w=e=>{r(e),x(!1)};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"hidden md:flex fixed top-0 left-0 right-0 z-50 px-6 py-4 justify-center shadow-sm border-b border-gray-200 bg-white",children:(0,t.jsxs)("div",{className:"flex w-full max-w-7xl justify-between items-center",children:[(0,t.jsx)(j.default,{href:"/",className:"text-2xl font-bold bg-linear-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Logo"}),(0,t.jsx)("nav",{className:"flex items-center gap-8",children:g.map(e=>(0,t.jsxs)("button",{onClick:()=>w(e.path),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${d===e.path?"bg-blue-50 text-blue-600 font-semibold":"text-gray-600 hover:bg-gray-100"}`,children:[e.icon,(0,t.jsx)("span",{className:"text-sm",children:e.name})]},e.path))}),(0,t.jsx)(y,{logout:l,onclick:v,isProfileOpen:u,accounts:b,currentAccount:f,onSwitchAccount:m,onAddAccount:c,onNavigate:w})]})}),(0,t.jsxs)("header",{className:"md:hidden fixed top-0 left-0 right-0 z-50 px-4 py-3 flex justify-between items-center shadow-sm border-b border-gray-200 bg-white",children:[(0,t.jsx)(j.default,{href:"/",className:"text-xl font-bold bg-linear-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Logo"}),(0,t.jsx)(y,{logout:l,onclick:v,isProfileOpen:u,accounts:b,currentAccount:f,onSwitchAccount:m,onAddAccount:c,onNavigate:w})]}),(0,t.jsx)("main",{className:"md:pt-20 pt-16 pb-20 md:pb-8",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(C,{language:s?.language||"en",onToggle:()=>p(!h),isMinimized:h,user:s})}),e]})}),(0,t.jsx)("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-30 bg-white border-t border-gray-200 shadow-lg",children:(0,t.jsx)("div",{className:"flex justify-around items-center px-4 py-3",children:g.map(e=>(0,t.jsxs)("button",{onClick:()=>w(e.path),className:`flex flex-col items-center gap-1 px-4 py-2 rounded-lg transition-all ${d===e.path?"text-blue-600":"text-gray-500"}`,children:[(0,t.jsx)("div",{className:`${d===e.path?"scale-110":""} transition-transform`,children:e.icon}),(0,t.jsx)("span",{className:`text-xs font-medium ${d===e.path?"text-blue-600":"text-gray-600"}`,children:e.name}),d===e.path&&(0,t.jsx)("div",{className:"absolute -top-1 w-1 h-1 rounded-full bg-blue-600"})]},e.path))})})]})};var S=e.i(52675);let M=(0,l.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),_=(0,l.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),L=(0,l.default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),T=(0,l.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),O=(0,l.default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var z=e.i(56909),E=e.i(55436),F=e.i(31278),A=e.i(48256);let D=(0,l.default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),I=(0,l.default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var U=e.i(46654),B=e.i(43467),q=e.i(65271);let R="pk.83ce678095a5989ba69f8649e97e1135";function W({onBack:e,user:r,updateProfile:s}){let{language:l,setLanguage:i}=(0,B.useLanguage)(),[n,d]=(0,a.useState)(!1),[c,m]=(0,a.useState)(!1),u=(0,U.default)({dateOfBirth:"",birthTime:"",whatsappNumber:"+94",birthLocation:"",latitude:"",longitude:"",timezone:"",languages:""}),[x,p]=(0,a.useState)(""),[f,b]=(0,a.useState)([]),[y,j]=(0,a.useState)(!1),[v,w]=(0,a.useState)(!1),N=(0,a.useRef)(null),[k,$]=(0,a.useState)(""),[C,P]=(0,a.useState)(null),S=[{code:"en",label:"English"},{code:"si",label:"à·ƒà·’à¶‚à·„à¶½"},{code:"ta",label:"à®¤à®®à®¿à®´à¯"}];(0,a.useEffect)(()=>{if(r){let e={dateOfBirth:r.dateOfBirth||"",birthTime:r.birthTime||"",whatsappNumber:r.whatsappNumber||"+94",birthLocation:r.birthLocation||"",latitude:r.latitude||"",longitude:r.longitude||"",timezone:r.timezone||"",languages:r.language||""};u.setFormData(e),p(r.birthLocation||""),$(r.profileImage||""),r.language&&i(r.language)}},[r]);let W=async e=>{if(!e||e.length<3){b([]),w(!1);return}j(!0);try{let t=await fetch(`https://us1.locationiq.com/v1/search?key=${R}&q=${encodeURIComponent(e)}&format=json&limit=10`),a=await t.json();b(a||[]),w(!0)}catch(e){console.error("Location search error:",e),b([])}finally{j(!1)}},V=async e=>{let t=e.display_name;p(t),u.setFormData(a=>({...a,birthLocation:t,latitude:e.lat,longitude:e.lon}));try{let t=await fetch(`https://us1.locationiq.com/v1/timezone?key=${R}&lat=${e.lat}&lon=${e.lon}`),a=await t.json();a.timezone?.short_name&&u.updateField("timezone",a.timezone.short_name)}catch(e){console.error("Timezone fetch error:",e)}w(!1),b([])},K=e=>new Promise((t,a)=>{let r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=e=>a(e)}),H=async e=>{let t=e.target.files?.[0];if(t){if(t.size>5242880)return void alert("File size must be less than 5MB");P(t),$(await K(t))}},Y=async()=>{m(!0);try{let e={...u.formData,language:l};C&&(e.profileImage=await K(C)),await s(e),d(!1),P(null)}catch(e){console.error("Save error:",e),alert("Failed to save profile. Please try again.")}finally{m(!1)}},Q=async e=>{i(e);try{await s({language:e})}catch(e){console.error("Failed to update language:",e),i(l),alert("Failed to update language. Please try again.")}};return null==r?(0,t.jsx)("div",{className:"min-h-screen bg-linear-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(F.Loader2,{className:"w-16 h-16 animate-spin text-purple-600 mx-auto"}),(0,t.jsx)("p",{className:`mt-6 text-xl ${"si"===l?"sinhala-text":"ta"===l?"tamil-text":"english-text"}`,children:q.default.loadingProfile[l]})]})}):(0,t.jsxs)("div",{className:"max-w-5xl mx-auto p-4 md:p-6 pt-8 pb-32",children:[(0,t.jsx)("div",{className:"mb-8 flex justify-end",children:(0,t.jsx)("div",{className:"bg-white/70 backdrop-blur-lg rounded-2xl shadow-lg p-2 border border-white/50",children:(0,t.jsx)("div",{className:"flex gap-2",children:S.map(e=>{var a;let r;return(0,t.jsx)("button",{onClick:()=>Q(e.code),className:`px-4 py-2 rounded-xl font-medium transition-all ${l===e.code?"bg-linear-to-r from-indigo-500 to-purple-500 text-white shadow-lg scale-105":"bg-transparent text-gray-700 hover:bg-gray-100"} ${"si"===e.code?"sinhala-text":"ta"===e.code?"tamil-text":"english-text"}`,children:(a=e.code,(r=S.find(e=>e.code===a))?r.label:a)},e.code)})})})}),(0,t.jsxs)("div",{className:"relative bg-linear-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-3xl shadow-2xl mb-12",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,t.jsx)("div",{className:"relative h-40 md:h-56"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 w-32 h-32 md:w-50 md:h-50",children:(0,t.jsxs)("div",{className:"relative w-full h-full",children:[(0,t.jsx)("div",{className:"bg-white/90 backdrop-blur-sm rounded-full p-2 md:p-3 shadow-2xl ring-4 md:ring-8 ring-white/50",children:(0,t.jsx)("div",{className:"w-full h-full rounded-full overflow-hidden bg-linear-to-br from-indigo-400 to-purple-400 flex items-center justify-center",children:k?(0,t.jsx)(g.default,{src:k,alt:"Profile",width:400,height:400,className:"w-full h-full object-cover"}):(0,t.jsx)(o.User,{className:"w-12 h-24 md:w-20 md:h-40 text-white"})})}),n&&(0,t.jsxs)("label",{htmlFor:"profile-upload",className:"absolute bottom-2 right-2 md:bottom-4 md:right-4 bg-white rounded-full p-2 md:p-3 shadow-xl cursor-pointer hover:scale-110 transition",children:[(0,t.jsx)(I,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-600"}),(0,t.jsx)("input",{id:"profile-upload",type:"file",accept:"image/*",className:"hidden",onChange:H})]})]})})]}),(0,t.jsxs)("div",{className:"text-center mt-20 md:mt-24 mb-12",children:[(0,t.jsx)("h1",{className:`text-3xl md:text-5xl font-extrabold bg-linear-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent ${"si"===l?"sinhala-text":"ta"===l?"tamil-text":"english-text"}`,children:r.name||r.email?.split("@")[0]}),r.email&&(0,t.jsxs)("p",{className:"text-gray-600 mt-3 flex items-center justify-center gap-2 text-sm md:text-base",children:[(0,t.jsx)(D,{className:"w-4 h-4 md:w-5 md:h-5"})," ",r.email]}),!n&&(0,t.jsxs)("button",{onClick:()=>d(!0),className:`mt-6 md:mt-8 bg-linear-to-r from-indigo-600 to-purple-600 text-white px-6 md:px-8 py-3 md:py-4 rounded-2xl font-bold shadow-xl hover:shadow-2xl hover:scale-105 transition flex items-center gap-2 md:gap-3 mx-auto text-sm md:text-base ${"si"===l?"sinhala-text":"ta"===l?"tamil-text":"english-text"}`,children:[(0,t.jsx)(O,{className:"w-5 h-5 md:w-6 md:h-6"})," ",q.default.editProfile[l]]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8 mb-8",children:[(0,t.jsxs)("div",{className:"bg-white/70 backdrop-blur-lg rounded-3xl shadow-xl p-6 md:p-8 border border-white/50 hover:shadow-2xl transition",children:[(0,t.jsxs)("h2",{className:`text-xl md:text-2xl font-bold text-gray-800 mb-4 md:mb-6 flex items-center gap-2 md:gap-3 ${"si"===l?"sinhala-text":"ta"===l?"tamil-text":"english-text"}`,children:[(0,t.jsx)(o.User,{className:"w-6 h-6 md:w-8 md:h-8 text-indigo-600"})," ",q.default.personalInfo[l]]}),(0,t.jsxs)("div",{className:"space-y-4 md:space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2 ${"si"===l?"sinhala-text":"ta"===l?"tamil-text":"english-text"}`,children:[(0,t.jsx)(M,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-500"}),q.default.dateOfBirth[l]]}),n?(0,t.jsx)("input",{type:"date",value:u.formData.dateOfBirth,onChange:e=>u.updateField("dateOfBirth",e.target.value),className:"w-full px-3 md:px-4 py-2 md:py-3 bg-white/80 border-2 border-indigo-200 rounded-xl focus:ring-4 focus:ring-indigo-300 focus:border-indigo-500 transition text-sm md:text-base"}):(0,t.jsx)("p",{className:"text-gray-900 font-medium text-sm md:text-base",children:u.formData.dateOfBirth||"Not set"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2 ${"si"===l?"sinhala-text":"ta"===l?"tamil-text":"english-text"}`,children:[(0,t.jsx)(_,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-500"}),q.default.birthTime[l]]}),n?(0,t.jsx)("input",{type:"time",value:u.formData.birthTime,onChange:e=>u.updateField("birthTime",e.target.value),className:"w-full px-3 md:px-4 py-2 md:py-3 bg-white/80 border-2 border-indigo-200 rounded-xl focus:ring-4 focus:ring-indigo-300 focus:border-indigo-500 transition text-sm md:text-base"}):(0,t.jsx)("p",{className:"text-gray-900 font-medium text-sm md:text-base",children:u.formData.birthTime||"Not set"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2 ${"si"===l?"sinhala-text":"ta"===l?"tamil-text":"english-text"}`,children:[(0,t.jsx)(L,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-500"}),q.default.whatsappNumber[l]]}),n?(0,t.jsx)("input",{type:"tel",value:u.formData.whatsappNumber,onChange:e=>u.updateField("whatsappNumber",e.target.value),className:"w-full px-3 md:px-4 py-2 md:py-3 bg-white/80 border-2 border-indigo-200 rounded-xl focus:ring-4 focus:ring-indigo-300 focus:border-indigo-500 transition text-sm md:text-base"}):(0,t.jsx)("p",{className:"text-gray-900 font-medium text-sm md:text-base",children:u.formData.whatsappNumber})]})]})]}),(0,t.jsxs)("div",{className:"bg-white/70 backdrop-blur-lg rounded-3xl shadow-xl p-6 md:p-8 border border-white/50 hover:shadow-2xl transition",children:[(0,t.jsxs)("h2",{className:`text-xl md:text-2xl font-bold text-gray-800 mb-4 md:mb-6 flex items-center gap-2 md:gap-3 ${"si"===l?"sinhala-text":"ta"===l?"tamil-text":"english-text"}`,children:[(0,t.jsx)(T,{className:"w-6 h-6 md:w-8 md:h-8 text-indigo-600"})," ",q.default.birthPlace[l]]}),n?(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(E.Search,{className:"absolute left-3 md:left-4 top-1/2 -translate-y-1/2 w-4 h-4 md:w-5 md:h-5 text-gray-400"}),(0,t.jsx)("input",{type:"text",value:x,onChange:e=>{let t=e.target.value;p(t),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>W(t),500)},placeholder:"Search any location worldwide...",className:"w-full pl-10 md:pl-12 pr-10 md:pr-12 py-2 md:py-3 bg-white border-2 border-indigo-200 rounded-xl focus:ring-4 focus:ring-indigo-300 focus:border-indigo-500 transition text-sm md:text-base"}),y&&(0,t.jsx)(F.Loader2,{className:"absolute right-3 md:right-4 top-1/2 -translate-y-1/2 w-4 h-4 md:w-5 md:h-5 text-indigo-500 animate-spin"}),x&&!y&&(0,t.jsx)("button",{onClick:()=>{p(""),u.setFormData(e=>({...e,birthLocation:"",latitude:"",longitude:"",timezone:""})),b([]),w(!1)},className:"absolute right-3 md:right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,t.jsx)(h.X,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),v&&f.length>0&&(0,t.jsx)("div",{className:"absolute z-50 w-full mt-2 bg-white rounded-xl shadow-2xl border border-gray-200 max-h-64 overflow-y-auto",children:f.map((e,a)=>(0,t.jsxs)("button",{onClick:()=>V(e),className:"w-full text-left px-3 md:px-4 py-2 md:py-3 hover:bg-indigo-50 transition flex items-start gap-2 md:gap-3 border-b last:border-b-0",children:[(0,t.jsx)(T,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-500 mt-0.5 shrink-0"}),(0,t.jsx)("span",{className:"text-xs md:text-sm text-gray-700",children:e.display_name})]},a))})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-gray-900 font-medium text-sm md:text-base",children:u.formData.birthLocation||"Not set"})}),u.formData.birthLocation&&(0,t.jsxs)("div",{className:"bg-indigo-50 rounded-xl p-4 md:p-5 space-y-3",children:[u.formData.latitude&&u.formData.longitude&&(0,t.jsxs)("p",{className:"text-sm text-indigo-900 flex items-center gap-2 font-medium",children:[(0,t.jsx)(T,{className:"w-4 h-4"}),"Coordinates:"," ",parseFloat(u.formData.latitude).toFixed(6),","," ",parseFloat(u.formData.longitude).toFixed(6)]}),u.formData.timezone&&(0,t.jsxs)("p",{className:"text-sm text-indigo-900 flex items-center gap-2 font-medium",children:[(0,t.jsx)(A.Globe,{className:"w-4 h-4"}),"Timezone: ",u.formData.timezone]})]})]})]})]}),n&&(0,t.jsx)("div",{className:"fixed bottom-20 lg:bottom-0 left-0 right-0 bg-white/90 backdrop-blur-xl border-t border-gray-300 shadow-2xl z-50",children:(0,t.jsxs)("div",{className:"max-w-5xl mx-auto px-4 md:px-6 py-4 md:py-5 flex gap-3 md:gap-4 justify-end",children:[(0,t.jsxs)("button",{onClick:()=>{if(r){let e={dateOfBirth:r.dateOfBirth||"",birthTime:r.birthTime||"",whatsappNumber:r.whatsappNumber||"+94",birthLocation:r.birthLocation||"",latitude:r.latitude||"",longitude:r.longitude||"",timezone:r.timezone||"",languages:r.language||""};u.setFormData(e),p(r.birthLocation||""),$(r.profileImage||""),r.language&&i(r.language)}d(!1),P(null),b([]),w(!1)},className:`bg-gray-600 text-white px-6 md:px-8 py-3 md:py-4 rounded-2xl font-bold hover:bg-gray-700 flex items-center gap-2 md:gap-3 shadow-lg transition text-sm md:text-base ${"si"===l?"sinhala-text":"ta"===l?"tamil-text":"english-text"}`,children:[(0,t.jsx)(h.X,{className:"w-5 h-5 md:w-6 md:h-6"})," ",q.default.cancel[l]]}),(0,t.jsxs)("button",{onClick:Y,disabled:c,className:`bg-linear-to-r from-green-500 to-emerald-600 text-white px-6 md:px-8 py-3 md:py-4 rounded-2xl font-bold hover:shadow-2xl flex items-center gap-2 md:gap-3 shadow-lg disabled:opacity-70 transition text-sm md:text-base ${"si"===l?"sinhala-text":"ta"===l?"tamil-text":"english-text"}`,children:[c?(0,t.jsx)(F.Loader2,{className:"w-5 h-5 md:w-6 md:h-6 animate-spin"}):(0,t.jsx)(z.Save,{className:"w-5 h-5 md:w-6 md:h-6"}),q.default[c?"saving":"saveChanges"][l]]})]})})]})}var V=e.i(1709),K=e.i(65757),H=e.i(91688);let Y=({user:e,Planet:a,lagnaya:r,navanshaka:s,navanshakaData:l,mahadasha:i,anthardasha:n,astroData:o})=>{let d=e?.language||"si",c="si"===d?"font-noto-sans-sinhala":"ta"===d?"font-noto-sans-tamil":"";return(0,t.jsxs)("div",{className:"w-full min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50  md:p-8",children:[(0,t.jsx)("div",{className:"max-w-7xl mx-auto mb-8",children:(0,t.jsx)("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 border-2 border-indigo-200",children:e&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.dateOfBirth&&(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-indigo-200",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 font-medium",children:"Date of Birth"}),(0,t.jsx)("p",{className:`text-sm font-bold text-gray-800 ${c}`,children:e.dateOfBirth})]})]}),e.birthTime&&(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-200",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 font-medium",children:"Time of Birth"}),(0,t.jsx)("p",{className:`text-sm font-bold text-gray-800 ${c}`,children:e.birthTime})]})]}),e.birthLocation&&(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl border border-emerald-200",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-full flex items-center justify-center",children:(0,t.jsxs)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,t.jsxs)("div",{className:"w-45",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 font-medium ",children:"Birth Location"}),(0,t.jsx)("p",{className:`text-sm font-bold text-gray-800 ${c}`,children:e.birthLocation})]})]})]})})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 border-2 border-indigo-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),(0,t.jsx)("h2",{className:`text-xl md:text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent ${c}`,children:q.default.horoscopeChart[d]})]}),(0,t.jsx)(K.default,{isHoroscope:!0,lagnaya:r,data:a,language:d})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 border-2 border-purple-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})}),(0,t.jsx)("h2",{className:`text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent ${c}`,children:q.default.navamsaChart[d]})]}),(0,t.jsx)(K.default,{isHoroscope:!1,lagnaya:s,data:l,language:d})]})]}),(i||n)&&(0,t.jsx)("div",{className:"mt-8 bg-white rounded-2xl shadow-xl p-6 md:p-8 border-2 border-pink-200",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[i&&(0,t.jsx)(V.default,{ismahaDaha:!0,items:i,language:d}),n&&(0,t.jsx)(V.default,{ismahaDaha:!1,items:n,language:d})]})}),o&&(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsx)(H.default,{astroData:o,language:d})})]})]})};var Q=e.i(27612);let X=(0,l.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),G=(0,l.default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),J=(0,l.default)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),Z={si:{gender:"à·ƒà·Šà¶­à·Šâ€à¶»à·“ à¶´à·”à¶»à·”à·‚ à¶·à·à·€à¶º",genderLabel:"à¶”à¶¶à·š à·ƒà·Šà¶­à·Šâ€à¶»à·“ à¶´à·”à¶»à·”à·‚ à¶·à·à·€à¶º à¶­à·à¶»à¶±à·Šà¶±",Male:"à¶´à·”à¶»à·”à·‚",Female:"à·ƒà·Šà¶­à·Šâ€à¶»à·“",Other:"à·€à·™à¶±à¶­à·Š",career:"à¶”à¶¶à¶œà·š à¶»à·à¶šà·’à¶ºà·à·€",careerLabel:"à¶”à¶¶à¶œà·š à¶»à·à¶šà·’à¶ºà·à·€ à¶­à·à¶»à¶±à·Šà¶±",education:"à¶…à¶°à·Šâ€à¶ºà·à¶´à¶± à·ƒà·”à¶¯à·”à·ƒà·”à¶šà¶¸à·Š",educationLabel:"à¶”à¶¶à¶œà·š à¶…à¶°à·Šâ€à¶ºà·à¶´à¶± à·ƒà·”à¶¯à·”à·ƒà·”à¶šà¶¸à·Š à¶­à·à¶»à¶±à·Šà¶±",save:"à¶­à·œà¶»à¶­à·”à¶»à·” à·ƒà·”à¶»à¶šà·’à¶±à·Šà¶±",saving:"à·ƒà·”à¶»à¶šà·’à¶¸à·’à¶±à·Š...",saved:"à·ƒà·”à¶»à¶šà·’à¶± à¶½à¶¯à·“!",title:"à¶´à¶»à·’à·à·“à¶½à¶š à¶­à·œà¶»à¶­à·”à¶»à·” à·ƒà¶¸à·“à¶šà·Šà·‚à¶«à¶º",subtitle:"à¶”à¶¶à·š à¶¢à¶±à·Šà¶¸ à¶´à¶­à·Šâ€à¶»à¶º à·€à¶©à·à¶­à·Š à¶±à·’à·€à·à¶»à¶¯à·’à·€ à·€à·’à·à·Šà¶½à·šà·‚à¶«à¶º à¶šà·’à¶»à·“à¶¸ à·ƒà¶³à·„à· à¶¸à·™à¶¸ à¶­à·œà¶»à¶­à·”à¶»à·” à¶…à¶­à·Šâ€à¶ºà·€à·Šâ€à¶ºà¶ºà·’",searchPlaceholder:"à·ƒà·œà¶ºà¶±à·Šà¶±...",searchCareer:"à¶”à¶¶à¶œà·š à¶»à·à¶šà·’à¶ºà·à·€ à·ƒà·œà¶ºà¶±à·Šà¶±...",searchEducation:"à¶”à¶¶à¶œà·š à¶…à¶°à·Šâ€à¶ºà·à¶´à¶± à·ƒà·”à¶¯à·”à·ƒà·”à¶šà¶¸à·Š à·ƒà·œà¶ºà¶±à·Šà¶±...",loading:"à¶´à·Šâ€à¶»à·à·Šà¶± à¶´à·–à¶»à¶«à¶º à¶šà¶»à¶¸à·’à¶±à·Š...",noResults:"à¶´à·Šâ€à¶»à¶­à·’à¶µà¶½ à·„à¶¸à·” à¶±à·œà·€à·“à¶º",yes:"à¶”à·€à·Š",no:"à¶±à·à¶­",select:"à¶­à·à¶»à¶±à·Šà¶±...",yourAnswer:"à¶”à¶¶à·š à¶´à·’à·…à·’à¶­à·”à¶»...",number:"à·ƒà¶‚à¶›à·Šâ€à¶ºà·à·€...",year:"à·€à¶»à·Šà·‚à¶º...",deceasedMembers:"à¶¸à·’à¶º à¶œà·’à¶º à¶´à·€à·”à¶½à·Š à·ƒà·à¶¸à·à¶¢à·’à¶šà¶ºà·’à¶±à·Š",addMember:"à¶‘à¶šà¶­à·” à¶šà¶»à¶±à·Šà¶±",member:"à·ƒà·à¶¸à·à¶¢à·’à¶šà¶ºà·",relationship:"à¶¥à·à¶­à·’à¶­à·Šà·€à¶º",relationshipPlaceholder:"à¶‹à¶¯à·: à¶´à·’à¶ºà·, à¶¸à·€, à·ƒà·„à·à¶¯à¶»à¶ºà·",dateOfBirth:"à¶‹à¶´à¶±à·Š à¶¯à·’à¶±à¶º",birthTime:"à¶‹à¶´à¶±à·Š à·€à·šà¶½à·à·€",birthLocation:"à¶‹à¶´à¶±à·Š à·ƒà·Šà¶®à·à¶±à¶º",yearOfDeath:"à¶¸à·’à¶º à¶œà·’à¶º à·€à¶»à·Šà·‚à¶º",causeOfDeath:"à¶¸à¶»à¶«à¶ºà¶§ à·„à·šà¶­à·”à·€"},en:{gender:"Gender",genderLabel:"Select Your Gender",Male:"Male",Female:"Female",Other:"Other",career:"Your Career",careerLabel:"Select Your Career",education:"Educational Qualifications",educationLabel:"Select Your Educational Qualifications",save:"Save Information",saving:"Saving...",saved:"Saved!",title:"User Information Survey",subtitle:"This information is essential for accurate horoscope analysis",searchPlaceholder:"Search...",searchCareer:"Search your career...",searchEducation:"Search your qualifications...",loading:"Loading questions...",noResults:"No results found",yes:"Yes",no:"No",select:"Select...",yourAnswer:"Your answer...",number:"Number...",year:"Year...",deceasedMembers:"Deceased Family Members",addMember:"Add Member",member:"Member",relationship:"Relationship",relationshipPlaceholder:"e.g., Father, Mother, Brother",dateOfBirth:"Date of Birth",birthTime:"Birth Time",birthLocation:"Birth Location",yearOfDeath:"Year of Death",causeOfDeath:"Cause of Death"},ta:{gender:"à®ªà®¾à®²à®¿à®©à®®à¯",genderLabel:"à®‰à®™à¯à®•à®³à¯ à®ªà®¾à®²à®¿à®©à®¤à¯à®¤à¯ˆà®¤à¯ à®¤à¯‡à®°à¯à®¨à¯à®¤à¯†à®Ÿà¯à®•à¯à®•à®µà¯à®®à¯",Male:"à®†à®£à¯",Female:"à®ªà¯†à®£à¯",Other:"à®®à®±à¯à®±à®µà¯ˆ",career:"à®‰à®™à¯à®•à®³à¯ à®¤à¯Šà®´à®¿à®²à¯",careerLabel:"à®‰à®™à¯à®•à®³à¯ à®¤à¯Šà®´à®¿à®²à¯ˆà®¤à¯ à®¤à¯‡à®°à¯à®¨à¯à®¤à¯†à®Ÿà¯à®•à¯à®•à®µà¯à®®à¯",education:"à®•à®²à¯à®µà®¿à®¤à¯ à®¤à®•à¯à®¤à®¿à®•à®³à¯",educationLabel:"à®‰à®™à¯à®•à®³à¯ à®•à®²à¯à®µà®¿à®¤à¯ à®¤à®•à¯à®¤à®¿à®•à®³à¯ˆà®¤à¯ à®¤à¯‡à®°à¯à®¨à¯à®¤à¯†à®Ÿà¯à®•à¯à®•à®µà¯à®®à¯",save:"à®¤à®•à®µà®²à¯ˆà®šà¯ à®šà¯‡à®®à®¿",saving:"à®šà¯‡à®®à®¿à®•à¯à®•à®¿à®±à®¤à¯...",saved:"à®šà¯‡à®®à®¿à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯!",title:"à®ªà®¯à®©à®°à¯ à®¤à®•à®µà®²à¯ à®•à®£à®•à¯à®•à¯†à®Ÿà¯à®ªà¯à®ªà¯",subtitle:"à®¤à¯à®²à¯à®²à®¿à®¯à®®à®¾à®© à®œà®¾à®¤à®•à®ªà¯ à®ªà®•à¯à®ªà¯à®ªà®¾à®¯à¯à®µà¯à®•à¯à®•à¯ à®‡à®¨à¯à®¤à®¤à¯ à®¤à®•à®µà®²à¯ à®…à®µà®šà®¿à®¯à®®à¯",searchPlaceholder:"à®¤à¯‡à®Ÿà¯...",searchCareer:"à®‰à®™à¯à®•à®³à¯ à®¤à¯Šà®´à®¿à®²à¯ˆà®¤à¯ à®¤à¯‡à®Ÿà¯à®™à¯à®•à®³à¯...",searchEducation:"à®‰à®™à¯à®•à®³à¯ à®¤à®•à¯à®¤à®¿à®•à®³à¯ˆà®¤à¯ à®¤à¯‡à®Ÿà¯à®™à¯à®•à®³à¯...",loading:"à®•à¯‡à®³à¯à®µà®¿à®•à®³à¯ˆ à®à®±à¯à®±à¯à®•à®¿à®±à®¤à¯...",noResults:"à®®à¯à®Ÿà®¿à®µà¯à®•à®³à¯ à®‡à®²à¯à®²à¯ˆ",yes:"à®†à®®à¯",no:"à®‡à®²à¯à®²à¯ˆ",select:"à®¤à¯‡à®°à¯à®¨à¯à®¤à¯†à®Ÿà¯à®•à¯à®•à®µà¯à®®à¯...",yourAnswer:"à®‰à®™à¯à®•à®³à¯ à®ªà®¤à®¿à®²à¯...",number:"à®Žà®£à¯...",year:"à®†à®£à¯à®Ÿà¯...",deceasedMembers:"à®‡à®±à®¨à¯à®¤ à®•à¯à®Ÿà¯à®®à¯à®ª à®‰à®±à¯à®ªà¯à®ªà®¿à®©à®°à¯à®•à®³à¯",addMember:"à®‰à®±à¯à®ªà¯à®ªà®¿à®©à®°à¯ˆà®šà¯ à®šà¯‡à®°à¯",member:"à®‰à®±à¯à®ªà¯à®ªà®¿à®©à®°à¯",relationship:"à®‰à®±à®µà¯",relationshipPlaceholder:"à®Ž.à®•à®¾: à®¤à®¨à¯à®¤à¯ˆ, à®¤à®¾à®¯à¯, à®šà®•à¯‹à®¤à®°à®°à¯",dateOfBirth:"à®ªà®¿à®±à®¨à¯à®¤ à®¤à¯‡à®¤à®¿",birthTime:"à®ªà®¿à®±à®¨à¯à®¤ à®¨à¯‡à®°à®®à¯",birthLocation:"à®ªà®¿à®±à®¨à¯à®¤ à®‡à®Ÿà®®à¯",yearOfDeath:"à®‡à®±à®¨à¯à®¤ à®†à®£à¯à®Ÿà¯",causeOfDeath:"à®®à®°à®£ à®•à®¾à®°à®£à®®à¯"}},ee={si:{career:"à¶”à¶¶à¶œà·š à¶»à·à¶šà·’à¶ºà·à·€",personal:"à¶´à·”à¶¯à·Šà¶œà¶½à·’à¶š à¶­à·œà¶»à¶­à·”à¶»à·”",property:"à¶¯à·šà¶´à·… à¶­à·œà¶»à¶­à·”à¶»à·”",family:"à¶´à·€à·”à¶½à·Š à¶­à·œà¶»à¶­à·”à¶»à·”",physical:"à·à·à¶»à·“à¶»à·’à¶š à¶½à¶šà·Šà·‚à¶«",travel:"à·€à·’à¶¯à·šà·ƒà·Š à·ƒà¶‚à¶ à·à¶»",education:"à¶…à¶°à·Šâ€à¶ºà·à¶´à¶± à¶­à·œà¶»à¶­à·”à¶»à·”",interests:"à¶»à·”à¶ à·’à¶šà¶­à·Šà·€",health:"à·ƒà·žà¶›à·Šâ€à¶º à¶­à·œà¶»à¶­à·”à¶»à·”",sports:"à¶šà·Šâ€à¶»à·“à¶©à·",family_deceased:"à¶¸à·’à¶º à¶œà·’à¶º à¶´à·€à·”à¶½à·Š à·ƒà·à¶¸à·à¶¢à·’à¶šà¶ºà·’à¶±à·Š"},en:{career:"Your Career",personal:"Personal Information",property:"Property Information",family:"Family Information",physical:"Physical Characteristics",travel:"International Travel",education:"Education Information",interests:"Interests",health:"Health Information",sports:"Sports",family_deceased:"Deceased Family Members"},ta:{career:"à®‰à®™à¯à®•à®³à¯ à®¤à¯Šà®´à®¿à®²à¯",personal:"à®¤à®©à®¿à®ªà¯à®ªà®Ÿà¯à®Ÿ à®¤à®•à®µà®²à¯",property:"à®šà¯Šà®¤à¯à®¤à¯ à®¤à®•à®µà®²à¯",family:"à®•à¯à®Ÿà¯à®®à¯à®ª à®¤à®•à®µà®²à¯",physical:"à®‰à®Ÿà®²à¯ à®ªà®£à¯à®ªà¯à®•à®³à¯",travel:"à®šà®°à¯à®µà®¤à¯‡à®š à®ªà®¯à®£à®®à¯",education:"à®•à®²à¯à®µà®¿ à®¤à®•à®µà®²à¯",interests:"à®†à®°à¯à®µà®™à¯à®•à®³à¯",health:"à®šà¯à®•à®¾à®¤à®¾à®° à®¤à®•à®µà®²à¯",sports:"à®µà®¿à®³à¯ˆà®¯à®¾à®Ÿà¯à®Ÿà¯",family_deceased:"à®‡à®±à®¨à¯à®¤ à®•à¯à®Ÿà¯à®®à¯à®ª à®‰à®±à¯à®ªà¯à®ªà®¿à®©à®°à¯à®•à®³à¯"}},et=({options:e,placeholder:r,onChange:s,value:l,language:i="si"})=>{let[n,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(""),m=Z[i],u=Object.entries(e).reduce((e,[t,a])=>{let r=a.filter(e=>e.toLowerCase().includes(d.toLowerCase()));return r.length>0&&(e[t]=r),e},{}),x="si"===i?"font-noto-sans-sinhala":"ta"===i?"font-noto-sans-tamil":"";return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:"border-2 border-gray-200 rounded-lg p-3 min-h-[50px] flex flex-wrap gap-2",children:[l.map((e,a)=>(0,t.jsxs)("span",{className:`bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm flex items-center gap-2 ${x}`,children:[e.option,(0,t.jsx)("button",{onClick:()=>{var t;return t=e.option,void s(l.filter(e=>e.option!==t))},className:"hover:text-blue-600",children:"Ã—"})]},a)),(0,t.jsx)("input",{type:"text",placeholder:0===l.length?r:"",value:d,onChange:e=>c(e.target.value),onFocus:()=>o(!0),className:`flex-1 outline-none min-w-[150px] ${x}`})]}),n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),(0,t.jsxs)("div",{className:"absolute z-20 w-full mt-2 bg-white border-2 border-gray-200 rounded-lg shadow-xl max-h-80 overflow-y-auto",children:[Object.entries(u).map(([e,a])=>(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:`bg-gray-100 px-4 py-2 font-semibold text-gray-700 sticky top-0 ${x}`,children:e}),a.map(a=>{let r=l.some(e=>e.option===a);return(0,t.jsx)("button",{onClick:()=>{l.some(e=>e.option===a)?s(l.filter(e=>e.option!==a)):s([...l,{option:a,category:e}])},className:`w-full text-left px-4 py-2 hover:bg-blue-50 ${r?"bg-blue-100 font-medium":""} ${x}`,children:a},a)})]},e)),0===Object.keys(u).length&&(0,t.jsx)("div",{className:`px-4 py-8 text-center text-gray-500 ${x}`,children:m.noResults})]})]})]})};function ea({onLoadStart:e,onLoadComplete:r,language:l}){let{user:i,GetSurveyQuestions:n,GetUserSurveyAnswers:d,GetDeceasedFamily:c,DeleteDeceasedMember:u,SaveSurveyAnswers:x,saveDeceasedFamily:h,getJobsOptions:p,getEducationOptions:g,updateProfile:b}=(0,s.useAuth)(),[y,j]=(0,a.useState)([]),[v,w]=(0,a.useState)({}),[N,k]=(0,a.useState)([]),[$,C]=(0,a.useState)(!0),[P,S]=(0,a.useState)(!1),[M,_]=(0,a.useState)(!1),[L,T]=(0,a.useState)(""),[O,E]=(0,a.useState)([]),[A,D]=(0,a.useState)([]),[I,U]=(0,a.useState)({}),[B,q]=(0,a.useState)({}),R=Z[l],W=ee[l],V="si"===l?"font-noto-sans-sinhala":"ta"===l?"font-noto-sans-tamil":"";(0,a.useEffect)(()=>{(async()=>{if(i){e?.(),C(!0);try{let[e,t,a,r,s]=await Promise.all([n(),d(),c(),p(),g()]);e.success&&j(e.data),t.success&&w(t.data||{}),a.success&&k(a.data||[]),U(r),q(s),i.gender&&T(i.gender)}catch(e){console.error("Error loading survey data:",e),f.toast.error("Failed to load survey data")}finally{C(!1),r?.()}}})()},[i]),(0,a.useEffect)(()=>{if(i&&y.length>0){let e={...v};y.find(e=>"preferred_jobs"===e.question_key)&&i.jobs&&i.jobs.length>0&&(e.preferred_jobs=i.jobs),y.find(e=>"education_qualifications"===e.question_key)&&i.education&&i.education.length>0&&(e.education_qualifications=i.education),w(e)}},[i,y]),(0,a.useEffect)(()=>{let e=(e,t)=>{for(let[a,r]of Object.entries(e))if(r.includes(t))return a;return""};Object.keys(I).length>0&&i?.jobs&&E(i.jobs.map(t=>({option:t,category:e(I,t)}))),Object.keys(B).length>0&&i?.education&&D(i.education.map(t=>({option:t,category:e(B,t)})))},[I,B,i]);let K=e=>{if(!e.parent_question_key)return!0;let t=v[e.parent_question_key];return!!t&&t===e.parent_answer_condition},H=(e,t)=>{w(a=>{let r={...a,[e]:t};return y.filter(t=>t.parent_question_key===e).forEach(e=>{t!==e.parent_answer_condition&&delete r[e.question_key]}),r}),"has_deceased_family"===e&&"no"===t&&k([])},Y=async e=>{if("number"==typeof e&&e<Date.now()-1e6)try{await u(e)}catch(e){console.error("Error deleting member:",e),f.toast.error("Failed to delete member");return}k(t=>t.filter(t=>t.id!==e))},ea=(e,t,a)=>{k(r=>r.map(r=>r.id===e?{...r,[t]:a}:r))},er=async()=>{S(!0);try{let e={...v};if(!(await x(e)).success)throw Error("Failed to save answers");if("yes"===v.has_deceased_family&&N.length>0&&!(await h(N)).success)throw Error("Failed to save deceased family members");let t={jobs:O.map(e=>e.option),education:A.map(e=>e.option),gender:L};await b(t),f.toast.success("Survey saved successfully!"),_(!0),setTimeout(()=>_(!1),3e3)}catch(e){console.error("Save error:",e),f.toast.error(e.message||"Failed to save survey")}finally{S(!1)}},es=y.reduce((e,t)=>{let a=t.category||"other";return e[a]||(e[a]=[]),e[a].push(t),e},{});return $?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(F.Loader2,{className:"w-12 h-12 sm:w-16 sm:h-16 animate-spin text-purple-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:`text-lg sm:text-xl text-gray-700 ${V}`,children:R.loading})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50 py-4 sm:py-6 md:py-8 px-3 sm:px-4",children:(0,t.jsx)("div",{className:"w-full max-w-6xl mx-auto",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl overflow-hidden mb-6 sm:mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 p-4 sm:p-6 md:p-8 text-white",children:[(0,t.jsx)("h1",{className:`text-xl sm:text-2xl md:text-3xl font-bold mb-2 ${V}`,children:R.title}),(0,t.jsx)("p",{className:`text-sm sm:text-base text-purple-100 ${V}`,children:R.subtitle})]}),(0,t.jsxs)("div",{className:"p-4 sm:p-6 md:p-8 space-y-6 sm:space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,t.jsxs)("h2",{className:`text-xl sm:text-2xl font-bold text-gray-800 border-b-2 border-purple-200 pb-2 flex items-center gap-2 sm:gap-3 ${V}`,children:[(0,t.jsx)(o.User,{className:"w-5 h-5 sm:w-7 sm:h-7 text-purple-600"}),R.gender]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 sm:p-6 rounded-xl border-l-4 border-purple-500",children:[(0,t.jsx)("label",{className:`block mb-3 sm:mb-4 text-base sm:text-lg font-semibold text-gray-800 ${V}`,children:R.genderLabel}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[{value:"Male",icon:"â™‚"},{value:"Female",icon:"â™€"},{value:"Other",icon:"âš¥"}].map(e=>(0,t.jsxs)("button",{onClick:()=>T(e.value),className:`relative p-4 sm:p-6 rounded-xl border-2 transition-all duration-300 transform hover:scale-105 ${L===e.value?"border-purple-600 bg-gradient-to-br from-purple-50 to-indigo-50 shadow-lg":"border-gray-200 bg-white hover:border-purple-300"}`,children:[(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[(0,t.jsx)("div",{className:`w-12 h-12 sm:w-16 sm:h-16 rounded-full flex items-center justify-center text-2xl sm:text-3xl transition-all ${L===e.value?"bg-gradient-to-br from-purple-600 to-indigo-600 text-white shadow-lg scale-110":"bg-gray-100 text-gray-600"}`,children:e.icon}),(0,t.jsx)("span",{className:`text-base sm:text-lg font-bold ${L===e.value?"text-purple-600":"text-gray-700"} ${V}`,children:R[e.value]})]}),L===e.value&&(0,t.jsx)("div",{className:"absolute -top-2 -right-2",children:(0,t.jsx)(X,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600 bg-white rounded-full"})})]},e.value))})]})]}),(0,t.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,t.jsxs)("h2",{className:`text-xl sm:text-2xl font-bold text-gray-800 border-b-2 border-purple-200 pb-2 flex items-center gap-2 sm:gap-3 ${V}`,children:[(0,t.jsx)(G,{className:"w-5 h-5 sm:w-7 sm:h-7 text-purple-600"}),R.career]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 sm:p-6 rounded-xl border-l-4 border-purple-500",children:[(0,t.jsx)("label",{className:`block mb-3 text-base sm:text-lg font-semibold text-gray-800 ${V}`,children:R.careerLabel}),(0,t.jsx)(et,{options:I,placeholder:R.searchCareer,onChange:e=>{E(e)},value:O,language:l})]})]}),(0,t.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,t.jsxs)("h2",{className:`text-xl sm:text-2xl font-bold text-gray-800 border-b-2 border-purple-200 pb-2 flex items-center gap-2 sm:gap-3 ${V}`,children:[(0,t.jsx)(J,{className:"w-5 h-5 sm:w-7 sm:h-7 text-purple-600"}),R.education]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 sm:p-6 rounded-xl border-l-4 border-purple-500",children:[(0,t.jsx)("label",{className:`block mb-3 text-base sm:text-lg font-semibold text-gray-800 ${V}`,children:R.educationLabel}),(0,t.jsx)(et,{options:B,placeholder:R.searchEducation,onChange:e=>{D(e)},value:A,language:l})]})]}),Object.entries(es).map(([e,a])=>(0,t.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,t.jsx)("h2",{className:`text-xl sm:text-2xl font-bold text-gray-800 border-b-2 border-purple-200 pb-2 ${V}`,children:W[e]||e}),a.filter(K).sort((e,t)=>e.display_order-t.display_order).map(e=>(0,t.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 sm:p-6 rounded-xl border-l-4 border-purple-500",children:[(0,t.jsx)("label",{className:"block mb-3",children:(0,t.jsx)("span",{className:`text-base sm:text-lg font-semibold text-gray-800 ${V}`,children:e.question_text})}),(e=>{let a=v[e.question_key]||"";switch(e.question_type){case"yes_no":return(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[(0,t.jsx)("button",{onClick:()=>H(e.question_key,"yes"),className:`flex-1 py-3 px-6 rounded-lg font-medium transition-all ${"yes"===a?"bg-green-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"} ${V}`,children:R.yes}),(0,t.jsx)("button",{onClick:()=>H(e.question_key,"no"),className:`flex-1 py-3 px-6 rounded-lg font-medium transition-all ${"no"===a?"bg-red-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"} ${V}`,children:R.no})]});case"select":return(0,t.jsxs)("select",{value:a,onChange:t=>H(e.question_key,t.target.value),className:`w-full p-3 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all ${V}`,children:[(0,t.jsx)("option",{value:"",children:R.select}),e.options?.map((e,a)=>(0,t.jsx)("option",{value:e,children:e},a))]});case"multi_select":return(0,t.jsx)("div",{className:"space-y-2",children:e.options?.map((r,s)=>(0,t.jsxs)("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition-all",children:[(0,t.jsx)("input",{type:"checkbox",checked:(a||[]).includes(r),onChange:()=>{var t;let a,s;return t=e.question_key,s=(a=v[t]||[]).includes(r)?a.filter(e=>e!==r):[...a,r],void w(e=>({...e,[t]:s}))},className:"w-5 h-5 text-purple-600 rounded focus:ring-2 focus:ring-purple-500"}),(0,t.jsx)("span",{className:`font-medium ${V}`,children:r})]},s))});case"text":return(0,t.jsx)("input",{type:"text",value:a,onChange:t=>H(e.question_key,t.target.value),className:`w-full p-3 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all ${V}`,placeholder:R.yourAnswer});case"number":return(0,t.jsx)("input",{type:"number",value:a,onChange:t=>H(e.question_key,t.target.value),className:`w-full p-3 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all ${V}`,placeholder:R.number});case"year":return(0,t.jsx)("input",{type:"number",value:a,onChange:t=>H(e.question_key,t.target.value),className:`w-full p-3 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all ${V}`,placeholder:R.year,min:"1900",max:new Date().getFullYear()});case"date":return(0,t.jsx)("input",{type:"date",value:a,onChange:t=>H(e.question_key,t.target.value),className:`w-full p-3 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all ${V}`});case"color":return(0,t.jsx)("input",{type:"color",value:a||"#000000",onChange:t=>H(e.question_key,t.target.value),className:"w-full h-12 rounded-lg cursor-pointer"});default:return null}})(e)]},e.id))]},e)),"yes"===v.has_deceased_family&&(0,t.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[(0,t.jsx)("h2",{className:`text-xl sm:text-2xl font-bold text-gray-800 ${V}`,children:R.deceasedMembers}),(0,t.jsxs)("button",{onClick:()=>{k(e=>[...e,{id:Date.now(),relationship:"",date_of_birth:"",birth_time:"",birth_location:"",year_of_death:"",cause_of_death:""}])},className:`flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors ${V} w-full sm:w-auto justify-center`,children:[(0,t.jsx)(m.Plus,{size:20}),R.addMember]})]}),N.map((e,a)=>(0,t.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 p-4 sm:p-6 rounded-xl border-l-4 border-red-500",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("h3",{className:`text-base sm:text-lg font-bold ${V}`,children:[R.member," #",a+1]}),(0,t.jsx)("button",{onClick:()=>Y(e.id),className:"text-red-600 hover:text-red-800 transition-colors",children:(0,t.jsx)(Q.Trash2,{size:20})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:`block text-sm font-medium mb-2 ${V}`,children:R.relationship}),(0,t.jsx)("input",{type:"text",value:e.relationship,onChange:t=>ea(e.id,"relationship",t.target.value),className:`w-full p-3 border-2 border-gray-200 rounded-lg ${V}`,placeholder:R.relationshipPlaceholder})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:`block text-sm font-medium mb-2 ${V}`,children:R.dateOfBirth}),(0,t.jsx)("input",{type:"date",value:e.date_of_birth,onChange:t=>ea(e.id,"date_of_birth",t.target.value),className:"w-full p-3 border-2 border-gray-200 rounded-lg"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:`block text-sm font-medium mb-2 ${V}`,children:R.birthTime}),(0,t.jsx)("input",{type:"time",value:e.birth_time,onChange:t=>ea(e.id,"birth_time",t.target.value),className:"w-full p-3 border-2 border-gray-200 rounded-lg"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:`block text-sm font-medium mb-2 ${V}`,children:R.birthLocation}),(0,t.jsx)("input",{type:"text",value:e.birth_location,onChange:t=>ea(e.id,"birth_location",t.target.value),className:`w-full p-3 border-2 border-gray-200 rounded-lg ${V}`})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:`block text-sm font-medium mb-2 ${V}`,children:R.yearOfDeath}),(0,t.jsx)("input",{type:"number",value:e.year_of_death,onChange:t=>ea(e.id,"year_of_death",t.target.value),className:`w-full p-3 border-2 border-gray-200 rounded-lg ${V}`,placeholder:R.year})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:`block text-sm font-medium mb-2 ${V}`,children:R.causeOfDeath}),(0,t.jsx)("input",{type:"text",value:e.cause_of_death,onChange:t=>ea(e.id,"cause_of_death",t.target.value),className:`w-full p-3 border-2 border-gray-200 rounded-lg ${V}`})]})]})]},e.id))]})]}),(0,t.jsx)("div",{className:"bg-gray-50 p-4 sm:p-6 md:p-8 border-t",children:(0,t.jsx)("button",{onClick:er,disabled:P,className:`w-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-3 sm:py-4 rounded-xl font-bold text-base sm:text-lg hover:from-purple-700 hover:to-indigo-700 transition-all disabled:opacity-50 flex items-center justify-center gap-2 sm:gap-3 ${V}`,children:P?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(F.Loader2,{className:"animate-spin",size:24}),R.saving]}):M?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(X,{size:24}),R.saved]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z.Save,{size:24}),R.save]})})})]})})})}let er=(0,l.default)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),es=(0,l.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),el=(0,l.default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ei=(0,l.default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);var en=e.i(98919);let eo=(0,l.default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),ed=(0,l.default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ec=(0,l.default)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),em={sun:er,moon:es,mars:el,mercury:eo,jupiter:x,venus:ei,saturn:en.Shield,rahu:ed,ketu:n.TrendingUp,default:x},eu={sun:{gradient:"from-orange-500 to-yellow-500",bg:"bg-orange-50",text:"text-orange-700",shadow:"shadow-orange-200"},moon:{gradient:"from-blue-400 to-indigo-400",bg:"bg-blue-50",text:"text-blue-700",shadow:"shadow-blue-200"},mars:{gradient:"from-red-500 to-pink-500",bg:"bg-red-50",text:"text-red-700",shadow:"shadow-red-200"},mercury:{gradient:"from-green-500 to-emerald-500",bg:"bg-green-50",text:"text-green-700",shadow:"shadow-green-200"},jupiter:{gradient:"from-yellow-500 to-amber-500",bg:"bg-yellow-50",text:"text-yellow-700",shadow:"shadow-yellow-200"},venus:{gradient:"from-pink-500 to-rose-500",bg:"bg-pink-50",text:"text-pink-700",shadow:"shadow-pink-200"},saturn:{gradient:"from-gray-600 to-slate-700",bg:"bg-gray-50",text:"text-gray-700",shadow:"shadow-gray-200"},rahu:{gradient:"from-purple-600 to-indigo-600",bg:"bg-purple-50",text:"text-purple-700",shadow:"shadow-purple-200"},ketu:{gradient:"from-teal-500 to-cyan-500",bg:"bg-teal-50",text:"text-teal-700",shadow:"shadow-teal-200"},default:{gradient:"from-purple-600 to-indigo-600",bg:"bg-purple-50",text:"text-purple-700",shadow:"shadow-purple-200"}},ex={correct:{en:"Correct",si:"à·„à¶»à·’",ta:"à®šà®°à®¿"},incorrect:{en:"Incorrect",si:"à·€à·à¶»à¶¯à·’",ta:"à®¤à®µà®±à¯"},undecided:{en:"Undecided",si:"à¶­à·“à¶»à¶«à¶º à¶±à·à¶­",ta:"à®¤à¯€à®°à¯à®®à®¾à®©à®¿à®•à¯à®•à®ªà¯à®ªà®Ÿà®µà®¿à®²à¯à®²à¯ˆ"},predictions:{en:"predictions",si:"à¶…à¶±à·à·€à·à¶šà·’",ta:"à®•à®£à®¿à®ªà¯à®ªà¯à®•à®³à¯"},locked:{en:"Complete previous predictions to unlock",si:"à¶¸à·™à¶º à¶…à¶œà·”à·…à·” à¶‡à¶»à·“à¶¸à¶§ à¶´à·™à¶» à¶…à¶±à·à·€à·à¶šà·’ à·ƒà¶¸à·Šà¶´à·–à¶»à·Šà¶« à¶šà¶»à¶±à·Šà¶±",ta:"à®¤à®¿à®±à®•à¯à®• à®®à¯à®¨à¯à®¤à¯ˆà®¯ à®•à®£à®¿à®ªà¯à®ªà¯à®•à®³à¯ˆ à®®à¯à®Ÿà®¿à®•à¯à®•à®µà¯à®®à¯"},giveFeedback:{en:"Give feedback to unlock next",si:"à¶Šà·…à¶Ÿ à¶…à¶œà·”à·…à·” à¶‡à¶»à·“à¶¸à¶§ à¶´à·Šâ€à¶»à¶­à·’à¶ à·à¶»à¶ºà¶šà·Š à¶¯à·™à¶±à·Šà¶±",ta:"à®…à®Ÿà¯à®¤à¯à®¤à®¤à¯ˆà®¤à¯ à®¤à®¿à®±à®•à¯à®• à®•à®°à¯à®¤à¯à®¤à¯ à®¤à¯†à®°à®¿à®µà®¿à®•à¯à®•à®µà¯à®®à¯"},lockedWarning:{en:"Please complete the previous prediction first",si:"à¶šà¶»à·”à¶«à·à¶šà¶» à¶´à·…à¶¸à·”à·€ à¶´à·™à¶» à¶…à¶±à·à·€à·à¶šà·’à¶º à·ƒà¶¸à·Šà¶´à·–à¶»à·Šà¶« à¶šà¶»à¶±à·Šà¶±",ta:"à®®à¯à®¤à®²à®¿à®²à¯ à®®à¯à®¨à¯à®¤à¯ˆà®¯ à®•à®£à®¿à®ªà¯à®ªà¯ˆ à®®à¯à®Ÿà®¿à®•à¯à®•à®µà¯à®®à¯"}},eh=({predictionTitle:e,planet:r,predictionContent:s,language:l="en",onSubmitFeedback:i,predicitonFeedback:n,isUnlocked:o})=>{let d,c,[m,x]=(0,a.useState)(new Set([0])),{feedbackMap:p,unlockedSet:g}=(d=new Map,c=new Set(["0-0"]),n&&Array.isArray(n)&&(n.forEach(e=>{e.idx&&e.feedbackStatus&&d.set(e.idx,e.feedbackStatus)}),s?.forEach((e,t)=>{e?.predictionText?.forEach((a,l)=>{let i=e.predictionTextEn?.[l]||a,n=`${r}-${i}-${e.category}`;if(d.has(n)){let e;c.add(`${t}-${l}`);let a=(e=s?.[t])?l+1<(e.predictionText?.length||0)?`${t}-${l+1}`:t+1<s.length?`${t+1}-0`:null:null;a&&c.add(a)}})})),{feedbackMap:d,unlockedSet:c}),[b,y]=(0,a.useState)(p),[j,v]=(0,a.useState)(new Set),[w,k]=(0,a.useState)(g),$=async(e,t,a,n,o,d)=>{let c=`${r}-${o}-${a}`;v(e=>new Set(e).add(c));try{let m;await i({planet:r,predictionText:n,predictionTextEn:o,category:a,feedback:d,language:l}),y(e=>new Map(e).set(c,d));let u=(m=s?.[e])?t+1<(m.predictionText?.length||0)?`${e}-${t+1}`:e+1<s.length?`${e+1}-0`:null:null;u&&k(e=>new Set(e).add(u))}catch(e){console.error("Failed to submit feedback:",e)}finally{v(e=>{let t=new Set(e);return t.delete(c),t})}},C=()=>{f.toast.warning(ex.lockedWarning[l],{duration:3e3})},P=e=>"si"===e?"sinhala-text":"ta"===e?"tamil-text":"english-text";return o?(0,t.jsxs)("div",{className:"w-full flex flex-col mt-8 gap-4 md:gap-6 mx-auto bg-gradient-to-br from-white to-purple-50 rounded-2xl md:rounded-3xl shadow-xl md:shadow-2xl hover:shadow-3xl transition-all duration-500 overflow-hidden border border-purple-200 p-4 md:p-6 lg:p-8",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("h1",{className:`text-2xl md:text-3xl  font-extrabold funnel-sans-text bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent ${P(l)}`,children:e}),(0,t.jsx)("div",{className:"h-1 md:h-1.5 w-16 md:w-20 lg:w-24 bg-gradient-to-r from-purple-600 to-indigo-600 rounded-full mt-2 md:mt-3 shadow-lg"})]}),s?.map((e,a)=>{let s,i=(s=e.title.toLowerCase().trim()).includes("sun")||s.includes("à·ƒà·–à¶»à·Šà¶º")||s.includes("à®šà¯‚à®°à®¿à®¯à®©à¯")?"sun":s.includes("moon")||s.includes("à¶ à¶±à·Šà¶¯à·Šâ€à¶»")||s.includes("à®šà®¨à¯à®¤à®¿à®°à®©à¯")?"moon":s.includes("mars")||s.includes("à¶šà·”à¶¢")||s.includes("à®šà¯†à®µà¯à®µà®¾à®¯à¯")?"mars":s.includes("mercury")||s.includes("à¶¶à·”à¶°")||s.includes("à®ªà¯à®¤à®©à¯")?"mercury":s.includes("jupiter")||s.includes("à¶œà·”à¶»à·”")||s.includes("à®•à¯à®°à¯")?"jupiter":s.includes("venus")||s.includes("à·à·”à¶šà·Šâ€à¶»")||s.includes("à®šà¯à®•à¯à®°à®©à¯")?"venus":s.includes("saturn")||s.includes("à·à¶±à·’")||s.includes("à®šà®©à®¿")?"saturn":s.includes("rahu")||s.includes("à¶»à·à·„à·”")||s.includes("à®°à®¾à®•à¯")?"rahu":s.includes("ketu")||s.includes("à¶šà·šà¶­à·”")||s.includes("à®•à¯‡à®¤à¯")?"ketu":r||"default",n=eu[i]||eu.default,o=em[i]||em.default,d=m.has(a);return(0,t.jsxs)("div",{className:`relative overflow-hidden rounded-xl md:rounded-2xl transition-all duration-500 ${d?"shadow-lg md:shadow-xl":"shadow-md hover:shadow-lg"}`,children:[(0,t.jsxs)("div",{className:"absolute inset-0 opacity-5 pointer-events-none",children:[(0,t.jsx)("div",{className:`absolute -right-10 md:-right-20 -top-10 md:-top-20 w-40 md:w-60 h-40 md:h-60 bg-gradient-to-br ${n.gradient} rounded-full blur-3xl`}),(0,t.jsx)("div",{className:`absolute -left-10 md:-left-20 -bottom-10 md:-bottom-20 w-40 md:w-60 h-40 md:h-60 bg-gradient-to-br ${n.gradient} rounded-full blur-3xl`})]}),(0,t.jsx)("div",{onClick:()=>{let e;(e=new Set(m)).has(a)?e.delete(a):e.add(a),x(e)},className:`relative cursor-pointer ${n.bg} border-2 border-transparent hover:border-purple-200 transition-all duration-300 p-4 md:p-5 lg:p-6 ${d?"rounded-t-xl md:rounded-t-2xl":"rounded-xl md:rounded-2xl"}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-3 md:gap-4",children:[(0,t.jsxs)("div",{className:`relative w-12 h-12 md:w-14 md:h-14 lg:w-16 lg:h-16 rounded-xl md:rounded-2xl bg-gradient-to-br ${n.gradient} flex items-center justify-center shadow-lg ${n.shadow} transform hover:scale-110 transition-transform duration-300 flex-shrink-0`,children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-white/20 rounded-xl md:rounded-2xl animate-pulse"}),(0,t.jsx)(o,{className:"w-6 h-6 md:w-7 md:h-7 lg:w-8 lg:h-8 text-white relative z-10"})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h4",{className:`text-lg md:text-xl lg:text-2xl font-bold funnel-sans-text ${n.text} capitalize truncate ${P(l)}`,children:e.title}),(0,t.jsxs)("p",{className:`text-xs md:text-sm text-gray-600 mt-0.5 md:mt-1 ${P(l)}`,children:[e.predictionText?.length||0," ",ex.predictions[l]]})]}),(0,t.jsx)("div",{className:`w-7 h-7 md:w-8 md:h-8 rounded-full ${n.bg} flex items-center justify-center transition-transform duration-300 flex-shrink-0 ${d?"rotate-180":""}`,children:(0,t.jsx)("svg",{className:`w-4 h-4 md:w-5 md:h-5 ${n.text}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),d&&(0,t.jsx)("div",{className:"bg-white p-4 md:p-5 lg:p-6 rounded-b-xl md:rounded-b-2xl border-2 border-t-0 border-purple-100",children:(0,t.jsx)("div",{className:"space-y-3 md:space-y-4",children:e?.predictionText?.map((s,i)=>{let o,d=e.predictionTextEn?.[i]||s,c=`${r}-${d}-${e.category}`,m=b.get(c),x=j.has(c),p=(o=`${a}-${i}`,w.has(o)),g=null!=m,f=(e=>{switch(e){case"correct":return{bg:"bg-green-50",border:"border-green-300",text:"text-green-700",badge:"bg-green-500",badgeText:"text-white"};case"incorrect":return{bg:"bg-red-50",border:"border-red-300",text:"text-red-700",badge:"bg-red-500",badgeText:"text-white"};case"undecided":return{bg:"bg-blue-50",border:"border-blue-300",text:"text-blue-700",badge:"bg-blue-500",badgeText:"text-white"};default:return{bg:"bg-gray-50",border:"border-transparent",text:"text-gray-700",badge:"bg-gray-300",badgeText:"text-gray-700"}}})(m||null);return(0,t.jsxs)("div",{onClick:p?void 0:C,className:`group relative flex flex-col md:flex-row md:items-center gap-3 md:gap-4 p-3 md:p-4 rounded-xl transition-all duration-300 ${p?f.bg:"bg-gray-100"} border-2 ${p?f.border:"border-gray-300"} ${p?"hover:shadow-md":"cursor-pointer hover:bg-gray-200"}`,children:[(0,t.jsxs)("div",{className:"flex items-start gap-2 md:gap-3 flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"flex-shrink-0 mt-1.5 md:mt-2",children:p?(0,t.jsx)("div",{className:`w-2.5 h-2.5 md:w-3 md:h-3 rounded-full bg-gradient-to-br ${n.gradient} shadow-sm`}):(0,t.jsx)(N,{className:"w-4 h-4 md:w-5 md:h-5 text-gray-400"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[p?(0,t.jsx)("span",{className:`block text-sm md:text-base lg:text-lg funnel-sans-text leading-relaxed break-words ${f.text} ${P(l)}`,children:s}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-4 md:h-5 bg-gray-300 rounded-md w-full animate-pulse"}),(0,t.jsx)("div",{className:"h-4 md:h-5 bg-gray-300 rounded-md w-5/6 animate-pulse"}),(0,t.jsx)("div",{className:"h-4 md:h-5 bg-gray-300 rounded-md w-4/6 animate-pulse"})]}),!p&&(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gray-300 text-gray-700 text-xs font-semibold ${P(l)}`,children:[(0,t.jsx)(N,{className:"w-3.5 h-3.5"}),ex.giveFeedback[l]]})}),p&&m&&(0,t.jsx)("div",{className:"mt-2 md:hidden",children:(0,t.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg ${f.badge} ${f.badgeText} text-xs font-semibold ${P(l)}`,children:["correct"===m&&(0,t.jsx)(u.Check,{className:"w-3.5 h-3.5"}),"incorrect"===m&&(0,t.jsx)(h.X,{className:"w-3.5 h-3.5"}),"undecided"===m&&(0,t.jsx)(ec,{className:"w-3.5 h-3.5"}),ex[m][l]]})})]})]}),p&&(0,t.jsxs)("div",{className:"flex items-center gap-2 md:gap-2 justify-end md:justify-start flex-shrink-0",children:[m&&(0,t.jsxs)("div",{className:`hidden md:flex items-center gap-1.5 px-3 py-1.5 rounded-lg mr-2 flex-shrink-0 ${f.badge}`,children:["correct"===m&&(0,t.jsx)(u.Check,{className:"w-4 h-4 text-white"}),"incorrect"===m&&(0,t.jsx)(h.X,{className:"w-4 h-4 text-white"}),"undecided"===m&&(0,t.jsx)(ec,{className:"w-4 h-4 text-white"}),(0,t.jsx)("span",{className:`text-white text-sm font-semibold whitespace-nowrap ${P(l)}`,children:ex[m][l]})]}),!g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>{$(a,i,e.category,s,d,"correct")},disabled:x,className:`group/btn relative p-2 md:p-2.5 rounded-lg md:rounded-xl transition-all duration-300 flex-shrink-0 bg-green-500 hover:bg-green-600 hover:scale-110 active:scale-95 shadow-md hover:shadow-lg ${x?"opacity-50 cursor-not-allowed":""}`,title:ex.correct[l],children:(0,t.jsx)(u.Check,{className:"w-4 h-4 md:w-4 md:h-4 text-white"})}),(0,t.jsx)("button",{onClick:()=>{$(a,i,e.category,s,d,"incorrect")},disabled:x,className:`group/btn relative p-2 md:p-2.5 rounded-lg md:rounded-xl transition-all duration-300 flex-shrink-0 bg-red-500 hover:bg-red-600 hover:scale-110 active:scale-95 shadow-md hover:shadow-lg ${x?"opacity-50 cursor-not-allowed":""}`,title:ex.incorrect[l],children:(0,t.jsx)(h.X,{className:"w-4 h-4 md:w-4 md:h-4 text-white"})}),(0,t.jsx)("button",{onClick:()=>{$(a,i,e.category,s,d,"undecided")},disabled:x,className:`group/btn relative p-2 md:p-2.5 rounded-lg md:rounded-xl transition-all duration-300 flex-shrink-0 bg-blue-500 hover:bg-blue-600 hover:scale-110 active:scale-95 shadow-md hover:shadow-lg ${x?"opacity-50 cursor-not-allowed":""}`,title:ex.undecided[l],children:(0,t.jsx)(ec,{className:"w-4 h-4 md:w-4 md:h-4 text-white"})})]})]})]},i)})})})]},a)})]}):(0,t.jsx)("div",{className:"w-full flex flex-col mt-8 gap-4 md:gap-6 mx-auto bg-gradient-to-br from-white to-purple-50 rounded-2xl md:rounded-3xl shadow-xl opacity-60 pointer-events-none",children:(0,t.jsxs)("div",{className:"relative p-8 text-center",children:[(0,t.jsx)(N,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),(0,t.jsx)("h1",{className:`text-2xl md:text-3xl font-extrabold funnel-sans-text ${P(l)}`,children:e}),(0,t.jsxs)("p",{className:"text-gray-600 mt-4",children:[ex.giveFeedback[l]," (Previous planet must be completed)"]})]})})},ep=e=>"si"===e?"sinhala-text":"ta"===e?"tamil-text":"english-text",eg={Sun:{en:"Sun Predictions",si:"à·ƒà·–à¶»à·Šà¶º à¶œà·Šâ€à¶»à·„à¶ºà·à¶§ à¶…à¶±à·”à·€ à¶…à¶±à·à·€à·à¶šà·’",ta:"à®šà¯‚à®°à®¿à®¯à®©à¯ à®•à®£à®¿à®ªà¯à®ªà¯"},Moon:{en:"Moon Predictions",si:"à¶ à¶±à·Šà¶¯à·Šâ€à¶» à¶œà·Šâ€à¶»à·„à¶ºà·à¶§ à¶…à¶±à·”à·€ à¶…à¶±à·à·€à·à¶šà·’",ta:"à®šà®¨à¯à®¤à®¿à®°à®©à¯ à®•à®£à®¿à®ªà¯à®ªà¯"},Mars:{en:"Mars Predictions",si:"à¶šà·”à¶¢ à¶œà·Šâ€à¶»à·„à¶ºà·à¶§ à¶…à¶±à·”à·€ à¶…à¶±à·à·€à·à¶šà·’",ta:"à®šà¯†à®µà¯à®µà®¾à®¯à¯ à®•à®£à®¿à®ªà¯à®ªà¯"},Mercury:{en:"Mercury Predictions",si:"à¶¶à·”à¶° à¶œà·Šâ€à¶»à·„à¶ºà·à¶§ à¶…à¶±à·”à·€ à¶…à¶±à·à·€à·à¶šà·’",ta:"à®ªà¯à®¤à®©à¯ à®•à®£à®¿à®ªà¯à®ªà¯"},Jupiter:{en:"Jupiter Predictions",si:"à¶œà·”à¶»à·” à¶œà·Šâ€à¶»à·„à¶ºà·à¶§ à¶…à¶±à·”à·€ à¶…à¶±à·à·€à·à¶šà·’",ta:"à®•à¯à®°à¯ à®•à®£à®¿à®ªà¯à®ªà¯"},Venus:{en:"Venus Predictions",si:"à·à·”à¶šà·Šâ€à¶» à¶œà·Šâ€à¶»à·„à¶ºà·à¶§ à¶…à¶±à·”à·€ à¶…à¶±à·à·€à·à¶šà·’",ta:"à®šà¯à®•à¯à®°à®©à¯ à®•à®£à®¿à®ªà¯à®ªà¯"},Saturn:{en:"Saturn Predictions",si:"à·à¶±à·’ à¶œà·Šâ€à¶»à·„à¶ºà·à¶§ à¶…à¶±à·”à·€ à¶…à¶±à·à·€à·à¶šà·’",ta:"à®šà®©à®¿ à®•à®£à®¿à®ªà¯à®ªà¯"},Rahu:{en:"Rahu Predictions",si:"à¶»à·à·„à·”à¶§ à¶…à¶±à·”à·€ à¶…à¶±à·à·€à·à¶šà·’",ta:"à®°à®¾à®•à¯ à®•à®£à®¿à®ªà¯à®ªà¯"},Ketu:{en:"Ketu Predictions",si:"à¶šà·šà¶­à·”à¶§ à¶…à¶±à·”à·€ à¶…à¶±à·à·€à·à¶šà·’",ta:"à®•à¯‡à®¤à¯ à®•à®£à®¿à®ªà¯à®ªà¯"}},ef=(e,t)=>eg[e]?.[t]||e;function eb({user:e,predictions:r,onSubmitFeedback:l,predictionFeedback:i}){let{feedbackcompleteStatus:n}=(0,s.useAuth)();if(!r||0===Object.keys(r).length)return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-8 text-center max-w-md",children:[(0,t.jsx)("p",{className:`text-red-700 text-xl font-semibold mb-2 ${ep(e.language)}`,children:"si"===e.language?"à¶…à¶±à·à·€à·à¶šà·’ à¶½à¶¶à· à¶œà¶­ à¶±à·œà·„à·à¶šà·’ à·€à·’à¶º":"ta"===e.language?"à®•à®£à®¿à®ªà¯à®ªà¯à®•à®³à¯ˆ à®ªà¯†à®± à®®à¯à®Ÿà®¿à®¯à®µà®¿à®²à¯à®²à¯ˆ":"Failed to load predictions"}),(0,t.jsx)("p",{className:`text-red-600 ${ep(e.language)}`,children:"si"===e.language?"à¶šà¶»à·”à¶«à·à¶šà¶» à¶±à·à·€à¶­ à¶‹à¶­à·Šà·ƒà·à·„ à¶šà¶»à¶±à·Šà¶±":"ta"===e.language?"à®®à¯€à®£à¯à®Ÿà¯à®®à¯ à®®à¯à®¯à®±à¯à®šà®¿à®•à¯à®•à®µà¯à®®à¯":"Please try again"})]})});let o=e.language,d=["Sun","Moon","Mars","Mercury","Jupiter","Venus","Saturn","Rahu","Ketu"],c=(0,a.useMemo)(()=>{let e=[];for(let t of d){let a=r[t];if(!a?.result?.data?.predictions)continue;let s=a.result.data.predictions.find(e=>e.language===o);if(!s||!s.predictions?.length)continue;let l=ef(s.planet,o),n=l.replace(/ Predictions| à®•à®£à®¿à®ªà¯à®ªà¯| à¶…à¶±à·à·€à·à¶šà·’/g,"").trim(),d="si"===o?"à¶´à·”à¶¯à·Šà¶œà¶½à·’à¶š":"ta"===o?"à®¤à®©à®¿à®ªà¯à®ªà®Ÿà¯à®Ÿ":"Personalized",c="si"===o?"à¶»à·à·à·’":"ta"===o?"à®‡à®°à®¾à®šà®¿":"Zodiac",m=(e,t=!1)=>{let a=s.predictions.find(t=>t.title===e);return t?a?.predictionTextEn||[]:a?.predictionText||[]},u=[{title:n,category:"general",predictionText:m("General Prediction"),predictionTextEn:m("General Prediction",!0)},{title:`${n} - ${d}`,category:"personalised",predictionText:m("Personalised Prediction"),predictionTextEn:m("Personalised Prediction",!0)},{title:`${n} - ${c}`,category:"zodiac",predictionText:m("Planet Zodiac Prediction"),predictionTextEn:m("Planet Zodiac Prediction",!0)}].filter(e=>e.predictionText.length>0),x=u.reduce((e,t)=>e+(t.predictionText?.length||0),0),h=i.filter(e=>!!e.idx&&"string"==typeof e.idx&&e.idx.toLowerCase().includes(t.toLowerCase())).length;e.push({planet:t,totalPredictions:x,feedbacksCount:h,predictionContent:u,fullPlanetTitle:l})}return e},[r,o,i]),m=(0,a.useMemo)(()=>{let e=new Set,t=!0;return c.forEach(a=>{t&&e.add(a.planet),t=a.feedbacksCount>=a.totalPredictions}),e},[c,i,l]);return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("h1",{className:`text-2xl mt-8 pt-4 md:text-3xl lg:text-4xl font-extrabold funnel-sans-text bg-linear-to-r from-red-600 to-yellow-600 bg-clip-text text-transparent ${ep(o)}`,children:q.default.MainTitle[o]}),(0,t.jsx)("div",{className:"h-1 md:h-1.5 w-16 md:w-20 lg:w-24 bg-linear-to-r from-red-600 to-yellow-600 rounded-full mt-2 md:mt-3 shadow-lg"})]}),c.map(e=>(0,t.jsx)(eh,{predictionTitle:e.fullPlanetTitle,planet:e.planet,predictionContent:e.predictionContent,language:o,onSubmitFeedback:l,predicitonFeedback:i,isUnlocked:m.has(e.planet)},e.planet)),n?.allPlanetsCompleted?(0,t.jsx)(ea,{language:o}):null]})}e.s(["default",0,()=>{let e,l,i,n,d,c,m=(0,r.useRouter)(),[u,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[g,b]=(0,a.useState)(!1),[y,j]=a.default.useState("/"),{isAuthenticated:v,loading:w,user:N,logout:k,updateProfile:$,addProfile:C,switchProfile:M,GetPlanet:_,planet:L,Getnavam:T,navam:O,Getmahadasha:z,mahadaha:E,getAntharDasha:F,anthardahsa:A,predictions:D,getPredictions:I,submitPredictionFeedback:U,feedbackStatus:B,getAllFeedbackPredciton:R,AstroLogic:V,astro:K}=(0,s.useAuth)(),H=N?.isProfileComplete,Q=async(e,t)=>{try{await C(e,t)}catch(e){console.error("Failed to add account:",e)}},X=async e=>{try{await M(e.id),b(!1)}catch(e){console.error("Failed to switch account:",e)}finally{m.refresh()}},G=async()=>{if(H)try{(await Promise.allSettled([_(),z(),T(),V()])).forEach(async(e,t)=>{"fulfilled"===e.status&&2==t&&await F(),x(!1)})}catch(e){console.error("Error loading data:",e),x(!1)}},J=async()=>{p(!0);try{await I(),await R()}catch(e){console.error("Error loading predictions:",e),f.toast.error("Failed to load predictions")}finally{p(!1)}};if((0,a.useEffect)(()=>{w||v||m.push("/auth"),v&&!w&&H&&(x(!0),G())},[v,w,m]),w)return(0,t.jsx)(S.default,{type:"auth",isAuth:!0});if(u)return(0,t.jsx)(S.default,{type:"chart",isAuth:!0});if(h)return(0,t.jsx)(S.default,{type:"predictions",isAuth:!0});if(!u&&H)if(!L?.result?.data||!E?.result?.data||!A?.result?.data||!O?.result?.data)return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-8 text-center max-w-md",children:[(0,t.jsx)("p",{className:"text-red-700 text-xl font-semibold mb-2",children:"à¶¢à¶±à·Šà¶¸ à¶´à¶­à·Šâ€à¶»à¶º à¶½à·à¶¶à·“ à¶±à·à·„à· :("}),(0,t.jsx)("p",{className:"text-red-600",children:"à¶±à·à·€à¶­ à¶‹à¶­à·Šà·ƒà·à·„ à¶šà¶»à¶±à·Šà¶± à·„à· à¶´à·ƒà·”à·€ à¶‘à¶±à·Šà¶±"})]})});else e=L.result.data,l=E.result.data,i=A.result.data,n=O.result.data,d=l.current_mahadasha_set,c=i.current_antardasha_set;return(0,t.jsx)(P,{onNavigate:e=>{j(e),"/predictions"===e&&H&&J()},curruntPage:y,user:N,logout:k,AddnewProfile:Q,onSwitchAccount:X,setIsProfileOpen:b,isProfileOpen:g,children:(()=>{switch(y){case"/":return(0,t.jsx)("div",{className:"space-y-6",children:H?(0,t.jsx)(Y,{user:N,Planet:e,anthardasha:c,mahadasha:d,navanshakaData:n,navanshaka:O?.result?.data?.lagnaya,lagnaya:L?.result?.data?.lagnaya,astroData:K}):(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-600 via-indigo-700 to-purple-800 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-cover bg-center opacity-30",style:{backgroundImage:"url('https://www.shutterstock.com/image-photo/deep-space-background-vibrant-blues-600nw-2600983199.jpg')"}}),(0,t.jsxs)("div",{className:"relative w-full max-w-md bg-white/10 backdrop-blur-2xl rounded-3xl shadow-2xl p-10 border border-white/30 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 to-indigo-600/20 rounded-3xl"}),(0,t.jsx)("div",{className:"relative flex justify-center mb-8",children:(0,t.jsx)("div",{className:"bg-white/90 rounded-full p-8 shadow-2xl ring-4 ring-white/50",children:(0,t.jsx)(o.User,{className:"w-24 h-24 text-indigo-700",strokeWidth:2.5})})}),(0,t.jsx)("h1",{className:"text-white text-4xl md:text-5xl font-bold text-center mb-6 drop-shadow-2xl",children:q.default.title[N?.language||"en"]}),(0,t.jsx)("p",{className:"text-blue-100 text-center text-lg md:text-xl mb-12 leading-relaxed px-4",children:q.default.description[N?.language||"en"]}),(0,t.jsxs)("button",{onClick:()=>j("/profile"),className:"relative w-full bg-gradient-to-r from-white to-blue-50 text-indigo-700 font-bold text-xl md:text-2xl py-6 px-10 rounded-2xl hover:shadow-2xl hover:shadow-indigo-500/60 transition-all duration-500 transform hover:scale-105 overflow-hidden group",children:[(0,t.jsx)("span",{className:"relative z-10 drop-shadow-md",children:q.default.button[N?.language||"en"]}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})]})]})]})});case"/predictions":return(0,t.jsx)("div",{className:"space-y-6",children:H?(0,t.jsx)(eb,{user:N,predictions:D,onSubmitFeedback:U,predictionFeedback:B}):(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-600 via-indigo-700 to-purple-800 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-cover bg-center opacity-30",style:{backgroundImage:"url('https://www.shutterstock.com/image-photo/deep-space-background-vibrant-blues-600nw-2600983199.jpg')"}}),(0,t.jsxs)("div",{className:"relative w-full max-w-md bg-white/10 backdrop-blur-2xl rounded-3xl shadow-2xl p-10 border border-white/30 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 to-indigo-600/20 rounded-3xl"}),(0,t.jsx)("div",{className:"relative flex justify-center mb-8",children:(0,t.jsx)("div",{className:"bg-white/90 rounded-full p-8 shadow-2xl ring-4 ring-white/50",children:(0,t.jsx)(o.User,{className:"w-24 h-24 text-indigo-700",strokeWidth:2.5})})}),(0,t.jsx)("h1",{className:"text-white text-4xl md:text-5xl font-bold text-center mb-6 drop-shadow-2xl",children:q.default.title[N?.language]}),(0,t.jsx)("p",{className:"text-blue-100 text-center text-lg md:text-xl mb-12 leading-relaxed px-4",children:q.default.description[N?.language]}),(0,t.jsxs)("button",{onClick:()=>j("/profile"),className:"relative w-full bg-gradient-to-r from-white to-blue-50 text-indigo-700 font-bold text-xl md:text-2xl py-6 px-10 rounded-2xl hover:shadow-2xl hover:shadow-indigo-500/60 transition-all duration-500 transform hover:scale-105 overflow-hidden group",children:[(0,t.jsx)("span",{className:"relative z-10 drop-shadow-md",children:q.default.button[N.language]}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})]})]})]})});case"/profile":return(0,t.jsx)("div",{children:(0,t.jsx)(W,{user:N,updateProfile:$})});default:return null}})()})}],31713)}]);