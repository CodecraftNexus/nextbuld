(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:n,iconNode:d,...o},x)=>(0,t.createElement)("svg",{ref:x,...r,width:s,height:s,stroke:e,strokeWidth:l?24*Number(i)/Number(s):i,className:a("lucide",c),...!n&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(o)&&{"aria-hidden":"true"},...o},[...d.map(([e,s])=>(0,t.createElement)(e,s)),...Array.isArray(n)?n:[n]])),l=(e,r)=>{let l=(0,t.forwardRef)(({className:l,...c},n)=>(0,t.createElement)(i,{ref:n,iconNode:r,className:a(`lucide-${s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...c}));return l.displayName=s(e),l};e.s(["default",()=>l],75254)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},6321,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["default",()=>t])},69638,e=>{"use strict";var t=e.i(6321);e.s(["CheckCircle",()=>t.default])},388,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(51884),r=e.i(70319),i=e.i(31278),l=e.i(69638);let c=(0,e.i(75254).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);function n(){let{currentSubscription:e,getSubscriptionPackages:n,initiateSubscriptionPayment:d}=(0,a.useAuth)(),[o,x]=(0,s.useState)([]),[h,m]=(0,s.useState)(!0),[p,u]=(0,s.useState)(!1),[y,g]=(0,s.useState)({});(0,s.useEffect)(()=>{f()},[]);let f=async()=>{try{m(!0);let e=await n();x(e.packages);let t={};e.packages.forEach(e=>{t[e.id]="monthly"}),g(t)}catch(e){r.toast.error("Failed to load packages"),console.log(e)}finally{m(!1)}},j=async t=>{if(!p){if(t.name===e?.SubscriptionPackage?.name)return void r.toast.info("You already have this subscription");u(!0);try{await d(t.id,y[t.id])}catch(e){r.toast.error("Failed to initiate payment")}finally{u(!1)}}};return h?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)(i.Loader2,{className:"w-8 h-8 animate-spin text-indigo-600"})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Choose Your Subscription"}),(0,t.jsx)("p",{className:"text-lg text-gray-600",children:"Unlock premium features for better predictions"})]}),e&&(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-md p-6 mb-12",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Current Subscription"}),(0,t.jsx)("p",{className:"text-gray-600",children:e.SubscriptionPackage.name})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Status: ",e.status]}),e.endDate&&(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Expires: ",new Date(e.endDate).toLocaleDateString()]})]})]})}),(0,t.jsx)("div",{className:"grid md:grid-cols-3 gap-8",children:o.map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-6 border-b",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.name}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:e.description}),(0,t.jsxs)("div",{className:"flex justify-center space-x-4 mb-4",children:[(0,t.jsx)("button",{onClick:()=>g({...y,[e.id]:"monthly"}),className:`px-4 py-2 rounded-lg ${"monthly"===y[e.id]?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,children:"Monthly"}),(0,t.jsx)("button",{onClick:()=>g({...y,[e.id]:"yearly"}),className:`px-4 py-2 rounded-lg ${"yearly"===y[e.id]?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"}`,children:"Yearly"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("span",{className:"text-3xl font-bold text-gray-900",children:["LKR ","monthly"===y[e.id]?e.monthly_price:e.yearly_price]}),(0,t.jsxs)("span",{className:"text-gray-600",children:[" /",y[e.id]]})]})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("ul",{className:"space-y-3",children:e.features.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-center space-x-3 text-gray-700",children:[(0,t.jsx)(l.CheckCircle,{className:"w-5 h-5 text-green-500"}),(0,t.jsx)("span",{children:e})]},s))})}),(0,t.jsx)("div",{className:"p-6 border-t",children:(0,t.jsxs)("button",{onClick:()=>j(e),disabled:p||"Silver"===e.name,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition",children:[p?(0,t.jsx)(i.Loader2,{className:"w-5 h-5 animate-spin"}):(0,t.jsx)(c,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"Silver"===e.name?"Current":"Upgrade Now"})]})})]},e.id))})]})})}e.s(["default",()=>n],388)}]);