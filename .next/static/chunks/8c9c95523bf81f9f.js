(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var r=e.i(71645);let t=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)},s=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:n="",children:c,iconNode:l,...d},u)=>(0,r.createElement)("svg",{ref:u,...i,width:t,height:t,stroke:e,strokeWidth:o?24*Number(a)/Number(t):a,className:s("lucide",n),...!c&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0})(d)&&{"aria-hidden":"true"},...d},[...l.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(c)?c:[c]])),o=(e,i)=>{let o=(0,r.forwardRef)(({className:o,...n},c)=>(0,r.createElement)(a,{ref:c,iconNode:i,className:s(`lucide-${t(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,o),...n}));return o.displayName=t(e),o};e.s(["default",()=>o],75254)},4177,e=>{"use strict";var r=e.i(43476),t=e.i(71645);function s({onSuccess:e,onError:s,text:i="continue_with"}){let a=(0,t.useRef)(null),o=(0,t.useRef)(null),n=(0,t.useRef)(!1),c="783833896493-pb584ip0n79cmqik9qel1slv6696mcja.apps.googleusercontent.com";return(0,t.useEffect)(()=>{let r=()=>{window.google&&a.current&&!n.current&&(n.current=!0,window.google.accounts.id.initialize({client_id:c,callback:t,auto_select:!1,cancel_on_tap_outside:!0}),window.google.accounts.id.renderButton(a.current,{theme:"outline",size:"large",width:a.current.offsetWidth||320,text:i,shape:"rectangular",logo_alignment:"left"}))},t=r=>{try{if(r.credential)e(r.credential);else throw Error("No credential received")}catch(e){console.error("Google Sign-In Error:",e),s&&s(e)}};return window.google?r():(()=>{if(window.google||o.current)return;let e=document.createElement("script");e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.onload=r,document.body.appendChild(e),o.current=e})(),()=>{o.current&&(o.current.remove(),o.current=null),n.current=!1}},[e,s,i,c]),(0,r.jsx)("div",{ref:a,className:"w-full flex items-center justify-center min-h-10"})}e.s(["default",()=>s])},41053,98919,e=>{"use strict";e.i(47167);var r=e.i(46806);e.s(["adminService",0,{googleLogin:async e=>{try{let t=await r.apiClient.post("/api/admin/google-login",{idToken:e});return{success:!0,admin:t.admin}}catch(e){return{success:!1,error:e.message}}},refreshToken:async()=>{try{let e=await r.apiClient.post("/api/admin/refresh");return{success:!0,data:e}}catch(e){return{success:!1,error:e.message}}},logout:async()=>{try{return await r.apiClient.post("/api/admin/logout"),{success:!0}}catch(e){throw console.error("Admin logout error:",e),e}},getProfile:async()=>{try{let e=await r.apiClient.get("/api/admin/profile");return{success:!0,admin:e.admin}}catch(e){return{success:!1,error:e.message}}},getAllUsers:async(e=1,t=10,s="")=>{try{let i=new URLSearchParams({page:e.toString(),limit:t.toString(),...s&&{search:s}}),a=await r.apiClient.get(`/api/admin//alluser?${i.toString()}`);return{success:!0,data:a.data}}catch(e){return{success:!1,error:e.message}}},getUserCompleteData:async e=>{try{let t=await r.apiClient.get(`/api/admin//user/${e}`);return{success:!0,data:t.data}}catch(e){return{success:!1,error:e.message}}},exportAllData:async()=>{try{let e=await fetch("https://prediction.medi.lk/api/admin/export",{method:"POST",credentials:"include"});if(!e.ok)throw Error("Export failed");let r=await e.blob(),t=window.URL.createObjectURL(r),s=document.createElement("a");s.href=t;let i=e.headers.get("Content-Disposition"),a=`astrology_data_${new Date().toISOString().split("T")[0]}.xlsx`;if(i){let e=i.match(/filename="?(.+)"?/);e&&(a=e[1])}return s.download=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(t),{success:!0}}catch(e){return console.error("Export error:",e),{success:!1,error:e.message}}}}],41053);let t=(0,e.i(75254).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>t],98919)},23261,e=>{"use strict";var r=e.i(43476),t=e.i(71645),s=e.i(18566),i=e.i(70319),a=e.i(41053),o=e.i(98919),n=e.i(4177);function c(){let e=(0,s.useRouter)(),[c,l]=(0,t.useState)(!1),d=async r=>{l(!0);try{if(!r)throw Error("No credential received from Google");let t=await a.adminService.googleLogin(r);if(t.success)i.toast.success("Admin login successful!"),e.push("/admin/dashboard");else throw Error(t.error||"Login failed")}catch(e){console.error("Google login error:",e),i.toast.error(e.message||"Login failed. Please try again.")}finally{l(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-linear-to-br from-indigo-100 via-purple-50 to-pink-100 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsx)("div",{className:"flex justify-center mb-6",children:(0,r.jsx)("div",{className:"bg-white rounded-full p-4 shadow-lg",children:(0,r.jsx)(o.Shield,{className:"w-12 h-12 text-indigo-600"})})}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 space-y-6",children:[(0,r.jsxs)("div",{className:"text-center space-y-2",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Portal"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Sign in with your authorized Google account"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("div",{className:"w-full border-t border-gray-200"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,r.jsx)("span",{className:"px-4 bg-white text-gray-500",children:"Secure Admin Access"})})]}),(0,r.jsx)("div",{className:"flex justify-center px-10",children:(0,r.jsx)(n.default,{onSuccess:d,onError:()=>{i.toast.error("Google login failed. Please try again.")},text:"signin_with"})}),(0,r.jsx)("div",{className:"bg-indigo-50 border border-indigo-100 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)(o.Shield,{className:"w-5 h-5 text-indigo-600 mt-0.5 shrink-0"}),(0,r.jsxs)("div",{className:"text-sm text-indigo-800",children:[(0,r.jsx)("p",{className:"font-medium mb-1",children:"Security Notice"}),(0,r.jsx)("p",{className:"text-indigo-700",children:"Only authorized admin accounts can access this portal. Your login attempt will be verified."})]})]})}),(0,r.jsxs)("div",{className:"text-center text-sm text-gray-500 pt-4 border-t border-gray-100",children:[(0,r.jsx)("p",{children:"Not an admin?"}),(0,r.jsx)("button",{onClick:()=>e.push("/auth"),className:"text-indigo-600 hover:text-indigo-700 font-medium mt-1",children:"Go to user login â†’"})]})]}),(0,r.jsx)("div",{className:"text-center mt-6 text-sm text-gray-600",children:(0,r.jsx)("p",{children:"Protected by enterprise-grade security"})})]})})}e.s(["default",()=>c])}]);