(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:c="",children:o,iconNode:l,...d},u)=>(0,t.createElement)("svg",{ref:u,...s,width:r,height:r,stroke:e,strokeWidth:n?24*Number(i)/Number(r):i,className:a("lucide",c),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...l.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(o)?o:[o]])),n=(e,s)=>{let n=(0,t.forwardRef)(({className:n,...c},o)=>(0,t.createElement)(i,{ref:o,iconNode:s,className:a(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...c}));return n.displayName=r(e),n};e.s(["default",()=>n],75254)},4177,e=>{"use strict";var t=e.i(43476),r=e.i(71645);function a({onSuccess:e,onError:a,text:s="continue_with"}){let i=(0,r.useRef)(null),n=(0,r.useRef)(null),c=(0,r.useRef)(!1),o="783833896493-pb584ip0n79cmqik9qel1slv6696mcja.apps.googleusercontent.com";return(0,r.useEffect)(()=>{let t=()=>{window.google&&i.current&&!c.current&&(c.current=!0,window.google.accounts.id.initialize({client_id:o,callback:r,auto_select:!1,cancel_on_tap_outside:!0}),window.google.accounts.id.renderButton(i.current,{theme:"outline",size:"large",width:i.current.offsetWidth||320,text:s,shape:"rectangular",logo_alignment:"left"}))},r=t=>{try{if(t.credential)e(t.credential);else throw Error("No credential received")}catch(e){console.error("Google Sign-In Error:",e),a&&a(e)}};return window.google?t():(()=>{if(window.google||n.current)return;let e=document.createElement("script");e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.onload=t,document.body.appendChild(e),n.current=e})(),()=>{n.current&&(n.current.remove(),n.current=null),c.current=!1}},[e,a,s,o]),(0,t.jsx)("div",{ref:i,className:"w-full flex items-center justify-center min-h-10"})}e.s(["default",()=>a])},41053,98919,e=>{"use strict";e.i(47167);var t=e.i(46806);e.s(["adminService",0,{googleLogin:async e=>{try{let r=await t.apiClient.post("/api/admin/google-login",{idToken:e});return{success:!0,admin:r.admin}}catch(e){return{success:!1,error:e.message}}},refreshToken:async()=>{try{let e=await t.apiClient.post("/api/admin/refresh");return{success:!0,data:e}}catch(e){return{success:!1,error:e.message}}},logout:async()=>{try{return await t.apiClient.post("/api/admin/logout"),{success:!0}}catch(e){throw console.error("Admin logout error:",e),e}},getProfile:async()=>{try{let e=await t.apiClient.get("/api/admin/profile");return{success:!0,admin:e.admin}}catch(e){return{success:!1,error:e.message}}},getAllUsers:async(e=1,r=10,a="")=>{try{let s=new URLSearchParams({page:e.toString(),limit:r.toString(),...a&&{search:a}}),i=await t.apiClient.get(`/api/admin/alluser?${s.toString()}`);return{success:!0,data:i.data}}catch(e){return{success:!1,error:e.message}}},getUserCompleteData:async e=>{try{let r=await t.apiClient.get(`/api/admin/user/${e}`);return{success:!0,data:r.data}}catch(e){return{success:!1,error:e.message}}},exportAllData:async()=>{try{let e=await fetch("https://prediction.medi.lk/api/admin/export",{method:"POST",credentials:"include"});if(!e.ok)throw Error("Export failed");let t=await e.blob(),r=window.URL.createObjectURL(t),a=document.createElement("a");a.href=r;let s=e.headers.get("Content-Disposition"),i=`astrology_data_${new Date().toISOString().split("T")[0]}.xlsx`;if(s){let e=s.match(/filename="?(.+)"?/);e&&(i=e[1])}return a.download=i,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r),{success:!0}}catch(e){return console.error("Export error:",e),{success:!1,error:e.message}}},createPlanetPrediction:async e=>{try{let r=await t.apiClient.post("/api/admin/planet-predictions",e);return{success:!0,data:r}}catch(e){return{success:!1,error:e.message}}},getAllPlanetPredictions:async e=>{try{let r=new URLSearchParams;e?.lagnaya&&r.append("lagnaya",e.lagnaya),e?.planetId&&r.append("planetId",e.planetId.toString()),e?.planetlocation&&r.append("planetlocation",e.planetlocation);let a=r.toString()?`/api/admin/planet-predictions?${r.toString()}`:"/api/admin/planet-predictions",s=await t.apiClient.get(a);return{success:!0,data:s}}catch(e){return{success:!1,error:e.message}}},searchPlanetPrediction:async(e,r,a)=>{try{let s=new URLSearchParams({lagnaya:e,planetId:r.toString(),planetlocation:a}),i=await t.apiClient.get(`/api/admin/planet-predictions/search?${s.toString()}`);return{success:!0,data:i}}catch(e){return{success:!1,error:e.message}}},getPlanetPredictionById:async e=>{try{let r=await t.apiClient.get(`/api/admin/planet-predictions/${e}`);return{success:!0,data:r}}catch(e){return{success:!1,error:e.message}}},updatePlanetPrediction:async(e,r)=>{try{let a=await t.apiClient.put(`/api/admin/planet-predictions/${e}`,r);return{success:!0,data:a}}catch(e){return{success:!1,error:e.message}}},deletePlanetPrediction:async e=>{try{let r=await t.apiClient.delete(`/api/admin/planet-predictions/${e}`);return{success:!0,data:r}}catch(e){return{success:!1,error:e.message}}},createApiKey:async e=>{try{let r=await t.apiClient.post("/api/admin/apikey",{apiKey:e});return{success:!0,data:r}}catch(e){return{success:!1,error:e.message}}},getApiKey:async e=>{try{let r=await t.apiClient.get(`/api/admin/apikey?apiKeyId=${e}`);return{success:!0,data:r}}catch(e){return{success:!1,error:e.message}}},updateApiKey:async(e,r)=>{try{let a=await t.apiClient.put("/api/admin/apikey",{apiKey:e,apikeyId:r});return{success:!0,data:a}}catch(e){return{success:!1,error:e.message}}}}],41053);let r=(0,e.i(75254).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>r],98919)},23261,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),s=e.i(70319),i=e.i(41053),n=e.i(98919),c=e.i(4177);function o(){let e=(0,a.useRouter)(),[o,l]=(0,r.useState)(!1),d=async t=>{l(!0);try{if(!t)throw Error("No credential received from Google");let r=await i.adminService.googleLogin(t);if(r.success)s.toast.success("Admin login successful!"),e.push("/admin/dashboard");else throw Error(r.error||"Login failed")}catch(e){console.error("Google login error:",e),s.toast.error(e.message||"Login failed. Please try again.")}finally{l(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-linear-to-br from-indigo-100 via-purple-50 to-pink-100 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md",children:[(0,t.jsx)("div",{className:"flex justify-center mb-6",children:(0,t.jsx)("div",{className:"bg-white rounded-full p-4 shadow-lg",children:(0,t.jsx)(n.Shield,{className:"w-12 h-12 text-indigo-600"})})}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 space-y-6",children:[(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Portal"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Sign in with your authorized Google account"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("div",{className:"w-full border-t border-gray-200"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,t.jsx)("span",{className:"px-4 bg-white text-gray-500",children:"Secure Admin Access"})})]}),(0,t.jsx)("div",{className:"flex justify-center px-10",children:(0,t.jsx)(c.default,{onSuccess:d,onError:()=>{s.toast.error("Google login failed. Please try again.")},text:"signin_with"})}),(0,t.jsx)("div",{className:"bg-indigo-50 border border-indigo-100 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)(n.Shield,{className:"w-5 h-5 text-indigo-600 mt-0.5 shrink-0"}),(0,t.jsxs)("div",{className:"text-sm text-indigo-800",children:[(0,t.jsx)("p",{className:"font-medium mb-1",children:"Security Notice"}),(0,t.jsx)("p",{className:"text-indigo-700",children:"Only authorized admin accounts can access this portal. Your login attempt will be verified."})]})]})}),(0,t.jsxs)("div",{className:"text-center text-sm text-gray-500 pt-4 border-t border-gray-100",children:[(0,t.jsx)("p",{children:"Not an admin?"}),(0,t.jsx)("button",{onClick:()=>e.push("/auth"),className:"text-indigo-600 hover:text-indigo-700 font-medium mt-1",children:"Go to user login â†’"})]})]}),(0,t.jsx)("div",{className:"text-center mt-6 text-sm text-gray-600",children:(0,t.jsx)("p",{children:"Protected by enterprise-grade security"})})]})})}e.s(["default",()=>o])}]);