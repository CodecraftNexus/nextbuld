module.exports=[26086,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(71987),f=a.i(20094),g=a.i(87151),h=a.i(70106);let i=(0,h.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),j=(0,h.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var k=a.i(87532),l=a.i(20005);let m=(0,h.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),n=(0,h.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var o=a.i(77156),p=a.i(96221),q=a.i(3314),r=a.i(25086),s=a.i(89646),t=a.i(3631);let u=a=>{if(!a)return null;let b=a=>a?a.split(",").map(a=>a.trim()):[];return{lagnaya:a.lagnaya,box1:b(a.box1),box2:b(a.box2),box3:b(a.box3),box4:b(a.box4),box5:b(a.box5),box6:b(a.box6),box7:b(a.box7),box8:b(a.box8),box9:b(a.box9),box10:b(a.box10),box11:b(a.box11),box12:b(a.box12)}};function v(){let a=(0,d.useRouter)(),[h,v]=(0,c.useState)(null),[w,x]=(0,c.useState)([]),[y,z]=(0,c.useState)(!0),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(1),[G,H]=(0,c.useState)(0),[I,J]=(0,c.useState)(0),[K,L]=(0,c.useState)(null),[M,N]=(0,c.useState)(new Set);(0,c.useEffect)(()=>{O()},[]),(0,c.useEffect)(()=>{h&&P()},[E,h]);let O=async()=>{try{let b=await g.adminService.getProfile();b.success?v(b.admin):a.push("/admin")}catch(b){a.push("/admin")}finally{z(!1)}},P=async()=>{try{z(!0);let a=await g.adminService.getAllUsers(E,10,C);a.success&&(x(a.data.users),J(a.data.pagination.total),H(a.data.pagination.totalPages))}catch(a){f.toast.error("Failed to fetch users")}finally{z(!1)}},Q=()=>{F(1),P()},R=async()=>{try{B(!0),await g.adminService.exportAllData(),f.toast.success("Data exported successfully!")}catch(a){f.toast.error("Failed to export data")}finally{B(!1)}},S=async()=>{try{await g.adminService.logout(),f.toast.info("Logged out successfully"),a.push("/admin")}catch(a){f.toast.error("Logout failed")}},T=async a=>{try{let b=await g.adminService.getUserCompleteData(a.toString());b.success?L(b):f.toast.error("Failed to load complete user data")}catch(a){f.toast.error("Failed to fetch user details")}};return y&&!h?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)(p.Loader2,{className:"w-8 h-8 animate-spin text-indigo-600"})}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(q.Shield,{className:"w-8 h-8 text-indigo-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["Welcome, ",h?.name]})]})]}),(0,b.jsxs)("button",{onClick:S,className:"flex items-center space-x-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition",children:[(0,b.jsx)(l.LogOut,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Logout"})]})]})})}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,b.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Total Users"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:I})]}),(0,b.jsx)(i,{className:"w-12 h-12 text-indigo-600"})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Current Page"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:E})]}),(0,b.jsx)("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-indigo-600 font-bold",children:G})})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,b.jsx)("button",{onClick:R,disabled:A,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50",children:A?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.Loader2,{className:"w-5 h-5 animate-spin"}),(0,b.jsx)("span",{children:"Exporting..."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:"Export All Data"})]})})})]}),(0,b.jsx)("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(k.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,b.jsx)("input",{type:"text",value:C,onChange:a=>D(a.target.value),onKeyPress:a=>"Enter"===a.key&&Q(),placeholder:"Search by name, email, or username...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,b.jsx)("button",{onClick:Q,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:"Search"})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Username"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Gender"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Sub Users"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200",children:y?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:7,className:"px-6 py-12 text-center",children:(0,b.jsx)(p.Loader2,{className:"w-8 h-8 animate-spin text-indigo-600 mx-auto"})})}):0===w.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"No users found"})}):w.map(a=>(0,b.jsxs)(c.Fragment,{children:[(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:a.id}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("span",{children:a.name}),a.subUsers?.length>0&&(0,b.jsx)("button",{onClick:()=>{var b;let c;return b=a.id,void((c=new Set(M)).has(b)?c.delete(b):c.add(b),N(c))},className:"text-indigo-600 hover:text-indigo-900",children:(0,b.jsx)("svg",{className:`w-4 h-4 transition-transform ${M.has(a.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:a.email}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:a.username}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:a.gender?.type||"-"}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:a.subUsers?.length||0}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("button",{onClick:()=>T(a.id),className:"text-indigo-600 hover:text-indigo-900",children:(0,b.jsx)(o.Eye,{className:"w-5 h-5"})})})]}),M.has(a.id)&&a.subUsers?.map(a=>(0,b.jsxs)("tr",{className:"bg-gray-50 hover:bg-gray-100",children:[(0,b.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-900 pl-12",children:["↳ ",a.id]}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:a.name}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:a.email}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:a.username}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:a.gender?.type||"-"}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:"0"}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("button",{onClick:()=>T(a.id),className:"text-indigo-600 hover:text-indigo-900",children:(0,b.jsx)(o.Eye,{className:"w-5 h-5"})})})]},`sub-${a.id}`))]},a.id))})]})}),G>1&&(0,b.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-between border-t",children:[(0,b.jsxs)("div",{className:"text-sm text-gray-700",children:["Page ",(0,b.jsx)("span",{className:"font-medium",children:E})," of"," ",(0,b.jsx)("span",{className:"font-medium",children:G})]}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("button",{onClick:()=>F(a=>Math.max(1,a-1)),disabled:1===E,className:"px-3 py-2 border rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,b.jsx)(m,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>F(a=>Math.min(G,a+1)),disabled:E===G,className:"px-3 py-2 border rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,b.jsx)(n,{className:"w-5 h-5"})})]})]})]}),K&&(0,b.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 z-50 overflow-y-auto flex items-start justify-center pt-0",children:(0,b.jsxs)("div",{className:"bg-white w-full min-h-screen relative max-w-none mx-0",children:[(0,b.jsxs)("div",{className:"sticky top-0 bg-white px-6 py-4 border-b flex items-center justify-between z-10",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:["User Details: ",K.data.personalInfo?.name||"Unknown"]}),(0,b.jsx)("button",{onClick:()=>L(null),className:"text-gray-500 hover:text-gray-700 transition-colors",children:(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsxs)("div",{className:"p-6",children:[K.data.personalInfo&&(0,b.jsxs)("section",{className:"mb-8",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4 border-b pb-2",children:"Personal Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-gray-700",children:"Name:"})," ",(0,b.jsx)("span",{className:"text-gray-900",children:K.data.personalInfo.name||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-gray-700",children:"Email:"})," ",(0,b.jsx)("span",{className:"text-gray-900",children:K.data.personalInfo.email||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-gray-700",children:"Username:"})," ",(0,b.jsx)("span",{className:"text-gray-900",children:K.data.personalInfo.username||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-gray-700",children:"Nickname:"})," ",(0,b.jsx)("span",{className:"text-gray-900",children:K.data.personalInfo.nikname||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-gray-700",children:"Date of Birth:"})," ",(0,b.jsx)("span",{className:"text-gray-900",children:K.data.personalInfo.dateOfBirth||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-gray-700",children:"Birth Time:"})," ",(0,b.jsx)("span",{className:"text-gray-900",children:K.data.personalInfo.birthTime||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-gray-700",children:"WhatsApp:"})," ",(0,b.jsx)("span",{className:"text-gray-900",children:K.data.personalInfo.WhatsappNumber||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-gray-700",children:"Gender:"})," ",(0,b.jsx)("span",{className:"text-gray-900",children:K.data.personalInfo.gender?.type||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-gray-700",children:"Birth Location:"})," ",(0,b.jsx)("span",{className:"text-gray-900",children:K.data.personalInfo.birthLocation?.name||"N/A"})]})]})]}),K.data.profileImages?.length>0&&(0,b.jsxs)("section",{className:"mb-8",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4 border-b pb-2",children:"Profile Images"}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:K.data.profileImages.map(a=>(0,b.jsx)(e.default,{src:a.imagePath,alt:"Profile",width:200,height:200,className:"rounded-lg shadow"},a.id))})]}),K.data.astrologicalData&&(0,b.jsxs)("section",{className:"mb-8",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4 border-b pb-2",children:"Astrological Data"}),(0,b.jsxs)("div",{className:"space-y-6",children:[K.data.astrologicalData.planetHouse&&(0,b.jsx)(r.default,{data:u(K.data.astrologicalData.planetHouse),lagnaya:K.data.astrologicalData.planetHouse.lagnaya,isHoroscope:!0}),K.data.astrologicalData.navamsaka&&(0,b.jsx)(r.default,{data:u(K.data.astrologicalData.navamsaka),lagnaya:K.data.astrologicalData.navamsaka.lagnaya,isHoroscope:!1}),K.data.astrologicalData.current_mahadasha_set&&(0,b.jsx)(s.default,{items:K.data.astrologicalData.current_mahadasha_set,ismahaDaha:!0}),K.data.astrologicalData.current_antardasha_set&&(0,b.jsx)(s.default,{items:K.data.astrologicalData.current_antardasha_set,ismahaDaha:!1}),K.data.astrologicalData.astrologicalDetails&&(0,b.jsx)(t.default,{astroData:K.data.astrologicalData.astrologicalDetails}),!K.data.astrologicalData.planetHouse&&!K.data.astrologicalData.navamsaka&&!K.data.astrologicalData.current_mahadasha_set&&!K.data.astrologicalData.current_antardasha_set&&!K.data.astrologicalData.astrologicalDetails&&(0,b.jsx)("p",{className:"text-gray-500",children:"No astrological data available."})]})]}),K.data.predictions?.length>0&&(0,b.jsxs)("section",{className:"mb-8",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4 border-b pb-2",children:"Predictions"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full bg-white border border-gray-200 rounded-lg",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Planet"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"General Prediction"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Personalised Prediction"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Planet Zodiac Prediction"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Verbal Location"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200",children:K.data.predictions.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.planet?.PlanetName||"N/A"}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:a.general_prediction||"N/A"}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:a.personalised_prediction||"N/A"}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:a.planet_zodiac_prediction||"N/A"}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:a.verbal_location||"N/A"})]},a.id))})]})})]}),K.data.employment?.length>0&&(0,b.jsxs)("section",{className:"mb-8",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4 border-b pb-2",children:"Employment"}),(0,b.jsx)("ul",{className:"space-y-2",children:K.data.employment.map(a=>(0,b.jsxs)("li",{className:"text-gray-700",children:["• ",a.jobName||"N/A"," (",a.category||"N/A",")"]},a.id))})]}),K.data.education?.length>0&&(0,b.jsxs)("section",{className:"mb-8",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4 border-b pb-2",children:"Education"}),(0,b.jsx)("ul",{className:"space-y-2",children:K.data.education.map(a=>(0,b.jsxs)("li",{className:"text-gray-700",children:["• ",a.qualificationName||"N/A"," (",a.category||"N/A",")"]},a.id))})]})]}),(0,b.jsx)("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex justify-end",children:(0,b.jsx)("button",{onClick:()=>L(null),className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})})]})]})}a.s(["default",()=>v],26086)}];

//# sourceMappingURL=app_admin_dashboard_page_tsx_f6179312._.js.map