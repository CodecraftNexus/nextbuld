module.exports=[65066,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46842),e=a.i(70106);let f=(0,e.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),g=(0,e.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),h=(0,e.default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),i=(0,e.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),j=(0,e.default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var k=a.i(14548),l=a.i(33508),m=a.i(87532),n=a.i(96221);let o=(0,e.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var p=a.i(44494);let q=(0,e.default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);var r=a.i(16201),s=a.i(29262),t=a.i(10918),u=a.i(6704),v=a.i(6219),w=a.i(50944),x=a.i(71987),y=a.i(33441);let z=({subscriptionPackages:a,curruntPackageid:d,startDate:e="Jan 01, 2024",expireDate:f="Dec 31, 2024",onUpgrade:g})=>{let[h,i]=(0,c.useState)(!1),j=a.find(a=>a.id===d),k=a.filter(a=>a.id!==d),l=a=>{let b="Gold"===a,c="Silver"===a;return{gradient:b?"from-amber-950 via-yellow-900 to-amber-950":c?"from-slate-900 via-gray-900 to-slate-900":"from-slate-900 via-purple-950 to-slate-900",border:b?"border-amber-500/20":c?"border-gray-500/20":"border-purple-500/20",hoverBorder:b?"hover:border-amber-400/50":c?"hover:border-gray-400/50":"hover:border-purple-400/50",hoverShadow:b?"hover:shadow-amber-500/30":c?"hover:shadow-gray-500/30":"hover:shadow-purple-500/30",textGradient:b?"from-amber-300 via-yellow-300 to-amber-400":c?"from-gray-300 via-slate-300 to-gray-400":"from-purple-300 via-violet-300 to-purple-400",bgOverlay:b?"from-amber-600/10 via-yellow-600/10 to-amber-800/10":c?"from-gray-600/10 via-slate-600/10 to-gray-800/10":"from-purple-600/10 via-violet-600/10 to-purple-800/10",buttonGradient:b?"from-amber-600 to-yellow-600 hover:from-amber-500 hover:to-yellow-500":c?"from-gray-600 to-slate-600 hover:from-gray-500 hover:to-slate-500":"from-purple-600 to-violet-600 hover:from-purple-500 hover:to-violet-500",accentColor:b?"text-amber-400":c?"text-gray-400":"text-purple-400",glowColor:b?"bg-amber-400/20":c?"bg-gray-400/20":"bg-purple-400/20"}};if(!j)return null;let m=l(j.name);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:`relative flex flex-col border ${m.border} py-16 px-5 gap-6 text-center justify-center items-center my-10 rounded-3xl overflow-hidden bg-linear-to-br ${m.gradient} shadow-2xl ${m.hoverShadow} transition-all duration-300`,children:[(0,b.jsx)("div",{className:`absolute inset-0 bg-linear-to-br ${m.bgOverlay} opacity-50`}),(0,b.jsx)("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:`
              linear-gradient(rgba(192, 192, 192, 0.05) 1px, transparent 1px),
              linear-gradient(90deg, rgba(192, 192, 192, 0.05) 1px, transparent 1px)
            `,backgroundSize:"50px 50px"}}),(0,b.jsx)("div",{className:`absolute top-1/4 left-1/4 w-64 h-64 ${m.glowColor} rounded-full blur-3xl animate-pulse`}),(0,b.jsx)("div",{className:`absolute bottom-1/4 right-1/4 w-64 h-64 ${m.glowColor} rounded-full blur-3xl animate-pulse`,style:{animationDelay:"1s"}}),(0,b.jsxs)("div",{className:"relative z-10 group",children:[(0,b.jsx)("div",{className:`absolute inset-0 bg-linear-to-r ${"Gold"===j.name?"from-amber-400 to-yellow-500":"Silver"===j.name?"from-gray-400 to-slate-500":"from-purple-400 to-violet-500"} rounded-full blur-xl opacity-50 group-hover:opacity-75 transition-opacity`}),(0,b.jsx)("div",{className:`relative h-24 w-24 rounded-full flex items-center justify-center bg-linear-to-br ${"Gold"===j.name?"from-amber-700 to-yellow-800 border-amber-600":"Silver"===j.name?"from-gray-700 to-slate-800 border-gray-600":"from-purple-700 to-violet-800 border-purple-600"} border-2 text-white font-bold text-5xl shadow-xl`,children:j.name.charAt(0)})]}),(0,b.jsxs)("h1",{className:`relative z-10 text-5xl font-bold bg-linear-to-r ${m.textGradient} bg-clip-text text-transparent drop-shadow-lg`,children:["You're on the ",j.name," Plan"]}),(0,b.jsxs)("p",{className:"relative z-10 max-w-2xl px-8 text-gray-300 text-lg leading-relaxed",children:["Thanks for subscribing to the ",j.name," Plan. As a part of this plan, you have access to:"]}),f&&e&&(0,b.jsxs)("div",{className:"relative z-10 flex gap-8 text-gray-300",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Start Date"}),(0,b.jsx)("p",{className:`text-lg font-semibold ${m.accentColor}`,children:e})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Expire Date"}),(0,b.jsx)("p",{className:`text-lg font-semibold ${m.accentColor}`,children:f})]})]}),(0,b.jsx)("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-2xl px-4",children:j.features.map((a,c)=>(0,b.jsxs)("div",{className:`group relative bg-linear-to-br ${"Gold"===j.name?"from-amber-800/80 to-yellow-900/80 border-amber-600/50 hover:border-amber-400/50 hover:shadow-amber-400/20":"Silver"===j.name?"from-gray-800/80 to-slate-900/80 border-gray-600/50 hover:border-gray-400/50 hover:shadow-gray-400/20":"from-purple-800/80 to-violet-900/80 border-purple-600/50 hover:border-purple-400/50 hover:shadow-purple-400/20"} backdrop-blur-sm py-4 px-6 rounded-xl flex items-center gap-3 border transition-all duration-300 shadow-lg hover:scale-105`,children:[(0,b.jsx)("div",{className:`absolute inset-0 bg-linear-to-r ${"Gold"===j.name?"from-amber-500/10 to-yellow-400/10":"Silver"===j.name?"from-gray-500/10 to-slate-400/10":"from-purple-500/10 to-violet-400/10"} opacity-0 group-hover:opacity-100 transition-opacity rounded-xl`}),(0,b.jsx)(r.CheckCircle,{className:`relative z-10 ${m.accentColor} shrink-0`}),(0,b.jsx)("span",{className:"relative z-10 text-white font-medium",children:a})]},c))})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:k.map(a=>{let c=l(a.name),d="Gold"===a.name,e="Silver"===a.name;return(0,b.jsxs)("div",{className:`group relative flex flex-col p-6 rounded-2xl overflow-hidden bg-linear-to-br ${c.gradient} border ${c.border} ${c.hoverBorder} transition-all duration-300 hover:scale-105 shadow-xl ${c.hoverShadow}`,children:[(0,b.jsx)("div",{className:`absolute inset-0 bg-linear-to-br ${c.bgOverlay} opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),(0,b.jsx)("div",{className:"absolute inset-0 opacity-20",style:d?{backgroundImage:`
                          linear-gradient(rgba(251, 191, 36, 0.1) 1px, transparent 1px),
                          linear-gradient(90deg, rgba(251, 191, 36, 0.1) 1px, transparent 1px)
                        `,backgroundSize:"30px 30px"}:e?{backgroundImage:`
                          linear-gradient(rgba(156, 163, 175, 0.1) 1px, transparent 1px),
                          linear-gradient(90deg, rgba(156, 163, 175, 0.1) 1px, transparent 1px)
                        `,backgroundSize:"30px 30px"}:{backgroundImage:`
                          linear-gradient(rgba(168, 85, 247, 0.1) 1px, transparent 1px),
                          linear-gradient(90deg, rgba(168, 85, 247, 0.1) 1px, transparent 1px)
                        `,backgroundSize:"30px 30px"}}),(0,b.jsxs)("div",{className:"relative z-10 flex flex-col gap-4",children:[(0,b.jsx)("div",{className:"flex items-center gap-3 mb-2",children:(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("h4",{className:`text-2xl font-bold bg-linear-to-r ${c.textGradient} bg-clip-text text-transparent`,children:a.name})})}),!e&&(0,b.jsxs)("div",{className:"flex items-center justify-center gap-3 my-2",children:[(0,b.jsx)("span",{className:`text-sm font-medium transition-colors ${!h?"text-white":"text-gray-500"}`,children:"Monthly"}),(0,b.jsx)("button",{onClick:()=>i(!h),className:`relative w-14 h-7 ${d?"bg-amber-900/50 border border-amber-500/30 hover:bg-amber-800/50":"bg-purple-900/50 border border-purple-500/30 hover:bg-purple-800/50"} rounded-full transition-colors`,children:(0,b.jsx)("div",{className:`absolute top-1 left-1 w-5 h-5 bg-linear-to-r ${d?"from-amber-400 to-yellow-500":"from-purple-400 to-violet-500"} rounded-full shadow-lg transition-transform duration-300 ${h?"translate-x-7":"translate-x-0"}`})}),(0,b.jsxs)("span",{className:`text-sm font-medium transition-colors ${h?"text-white":"text-gray-500"}`,children:["Yearly",(0,b.jsx)("span",{className:`ml-1 text-xs ${c.accentColor}`,children:"(Save 20%)"})]})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("h5",{className:"text-4xl font-bold text-white",children:[e?"Free":(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-2xl",children:"Rs."})," ",h?a.yearly_price:a.monthly_price]}),!e&&(0,b.jsxs)("span",{className:"text-lg text-gray-400",children:["/",h?"year":"month"]})]}),h&&!e&&(0,b.jsxs)("p",{className:`text-sm mt-1 ${c.accentColor}`,children:["Rs. ",(a.yearly_price/12).toFixed(0),"/month billed annually"]})]}),(0,b.jsx)("ul",{className:"space-y-3 mt-4",children:a.features.map((a,f)=>(0,b.jsxs)("li",{className:"flex items-start gap-3 text-gray-200",children:[(0,b.jsx)("div",{className:`mt-1 shrink-0 h-5 w-5 rounded-full ${d?"bg-amber-500/20":e?"bg-gray-500/20":"bg-purple-500/20"} flex items-center justify-center`,children:(0,b.jsx)(y.Check,{className:`h-3 w-3 ${c.accentColor}`})}),(0,b.jsx)("span",{className:"text-sm",children:a})]},f))}),(0,b.jsxs)("button",{onClick:()=>g({id:a.id,name:a.name,price:h?a.yearly_price:a.monthly_price,billingType:h?"yearly":"monthly"}),className:`mt-6 w-full py-3 px-4 rounded-xl bg-linear-to-r ${c.buttonGradient} text-white font-semibold shadow-lg transition-all duration-300 hover:scale-105`,children:["Upgrade to ",a.name]})]})]},a.id)})})]})};function A(){let{user:a,updateProfile:e,getJobsOptions:y,getEducationOptions:A}=(0,t.useAuth)(),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1),F=(0,w.useRouter)(),G=(0,c.useRef)(null),H=(0,v.default)({gender:"",dateOfBirth:"",birthTime:"",whatsappNumber:"+94",birthLocation:"",latitude:"",longitude:"",jobs:[],education:[]}),{currentSubscription:I,getSubscriptionPackages:J,initiateSubscriptionPayment:K,getCurrentSubscription:L}=(0,t.useAuth)(),[M,N]=(0,c.useState)([]),[O,P]=(0,c.useState)([]),[Q,R]=(0,c.useState)({}),[S,T]=(0,c.useState)({}),[U,V]=(0,c.useState)(""),[W,X]=(0,c.useState)([]),[Y,Z]=(0,c.useState)(!1),[$,_]=(0,c.useState)(!1),aa=(0,c.useRef)(null),[ab,ac]=(0,c.useState)(""),[ad,ae]=(0,c.useState)(null),[af,ag]=(0,c.useState)([]),[ah,ai]=(0,c.useState)(!1),[aj,ak]=(0,c.useState)("packages"),[al,am]=(0,c.useState)([]);(0,c.useEffect)(()=>{(async()=>{try{let a=await y();R(a);let b=await A();T(b);let c=await J();ag(c.packages)}catch(a){u.default.error("Failed to load options"),console.error(a)}})()},[y,A,J]),(0,c.useEffect)(()=>{a&&(H.setFormData({gender:a.gender||"",dateOfBirth:a.dateOfBirth||"",birthTime:a.birthTime||"",whatsappNumber:a.whatsappNumber||"+94",birthLocation:a.birthLocation||"",latitude:a.latitude||"",longitude:a.longitude||"",jobs:a.jobs||[],education:a.education||[]}),V(a.birthLocation||""),ac(a.profileImage||""))},[a]),(0,c.useEffect)(()=>{Object.keys(Q).length>0&&a?.jobs&&N(a.jobs.map(a=>({option:a,category:an(Q,a)})))},[Q,a]),(0,c.useEffect)(()=>{Object.keys(S).length>0&&a?.education&&P(a.education.map(a=>({option:a,category:an(S,a)})))},[S,a]);let an=(a,b)=>{for(let[c,d]of Object.entries(a))if(d.includes(b))return c;return""};(0,c.useEffect)(()=>(null==a?(G.current&&(clearTimeout(G.current),G.current=null),G.current||(G.current=setTimeout(()=>{F.push("/auth")},3e3))):G.current&&(clearTimeout(G.current),G.current=null),()=>{G.current&&clearTimeout(G.current)}),[a,F]);let ao=async a=>{if(a.trim().length<2)return void X([]);Z(!0);try{let b=await fetch(`https://api.locationiq.com/v1/autocomplete?key=pk.83ce678095a5989ba69f8649e97e1135&q=${encodeURIComponent(a)}&limit=8&countrycodes=lk&accept-language=si,en`),c=await b.json();Array.isArray(c)&&X(c)}catch(a){console.error("Location search error:",a)}finally{Z(!1)}};(0,c.useEffect)(()=>(aa.current&&clearTimeout(aa.current),aa.current=setTimeout(()=>ao(U),400),()=>{aa.current&&clearTimeout(aa.current)}),[U]),a?.isProfileComplete;let ap=async()=>{E(!0);try{let a={gender:H.formData.gender,dateOfBirth:H.formData.dateOfBirth,birthTime:H.formData.birthTime,whatsappNumber:H.formData.whatsappNumber,birthLocation:H.formData.birthLocation,latitude:H.formData.latitude,longitude:H.formData.longitude,jobs:M.map(a=>a.option),education:O.map(a=>a.option)};ad&&(a.profileImage=await new Promise((a,b)=>{let c=new FileReader;c.readAsDataURL(ad),c.onload=()=>a(c.result),c.onerror=b})),await e(a),u.default.success("Profile updated successfully!"),C(!1),ae(null),setTimeout(()=>{F.push("/")},1500)}catch(a){u.default.error("Failed to update profile. Please try again.")}finally{E(!1)}};if(null==a)return(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(n.Loader2,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading profile..."})]})});let aq=async a=>{if(console.log("Selected package:",a),!ah){if(a.id===I?.SubscriptionPackage?.id)return void(0,u.default)("You already have this subscription");ai(!0);try{await K(a.id,a.billingType)}catch(a){u.default.error("Failed to initiate payment")}finally{ai(!1)}}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.Toaster,{position:"top-center"}),(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)(s.default,{}),(0,b.jsxs)("div",{className:"bg-white border-b border-gray-200 px-4 py-3 md:hidden flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,b.jsx)(o,{className:"w-5 h-5"})}),(0,b.jsx)("span",{className:"font-semibold text-lg",children:"My Profile"})]}),(0,b.jsxs)("div",{className:"max-w-4xl mx-auto p-6 pt-8 pb-24",children:[(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-linear-to-r from-blue-600 to-purple-600 h-32 md:h-48"}),(0,b.jsxs)("div",{className:"relative px-8 pb-10",children:[(0,b.jsx)("div",{className:"absolute -top-16 left-8 w-32 h-32 md:w-32 md:h-32",children:(0,b.jsxs)("div",{className:"relative w-full h-full",children:[(0,b.jsx)("div",{className:"bg-white rounded-full p-2 shadow-2xl w-full h-full",children:(0,b.jsx)("div",{className:`w-full h-full rounded-full flex items-center justify-center ${ab?"overflow-hidden":"bg-blue-600"}`,children:ab?(0,b.jsx)(x.default,{height:400,width:400,src:ab,alt:"Profile",className:"w-full h-full object-cover"}):(0,b.jsx)(d.User,{className:"w-16 h-16 text-white"})})}),B&&(0,b.jsxs)("label",{htmlFor:"profile-upload",className:"absolute bottom-0 right-0 bg-white rounded-full p-2 shadow-lg cursor-pointer border border-gray-200",children:[(0,b.jsx)(j,{className:"w-5 h-5 text-blue-600"}),(0,b.jsx)("input",{id:"profile-upload",type:"file",accept:"image/*",className:"hidden",onChange:a=>{if(a.target.files&&a.target.files[0]){let b=a.target.files[0];ae(b),ac(URL.createObjectURL(b))}}})]})]})}),(0,b.jsxs)("div",{className:"pt-20 md:pt-16 text-center md:text-left md:flex md:justify-between md:items-end",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-black mt-4 md:mt-0",children:a.name||a.email?.split("@")[0]}),a.email?(0,b.jsxs)("p",{className:"text-gray-600 flex items-center gap-2 justify-center md:justify-start mt-2",children:[(0,b.jsx)(q,{className:"w-4 h-4"})," ",a.email]}):""]}),!B&&(0,b.jsx)("div",{className:"mt-6 md:mt-0 flex gap-3",children:(0,b.jsxs)("button",{onClick:()=>C(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 flex items-center gap-2 shadow-lg",children:[(0,b.jsx)(j,{className:"w-5 h-5"})," Edit Profile"]})})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8",children:[(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-black mb-6 flex items-center gap-3",children:[(0,b.jsx)(d.User,{className:"w-7 h-7 text-blue-600"})," Personal Information"]}),(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("div",{className:"flex lg:justify-between flex-col gap-2 lg:items-center lg:flex-row py-3 border-b border-gray-100",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Gender"}),B?(0,b.jsxs)("select",{value:H.formData.gender,onChange:a=>H.updateField("gender",a.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"",children:"Select"}),(0,b.jsx)("option",{value:"Male",children:"Male"}),(0,b.jsx)("option",{value:"Female",children:"Female"})]}):(0,b.jsx)("span",{className:"font-medium capitalize",children:H.formData.gender||"Not specified"})]}),(0,b.jsxs)("div",{className:"flex lg:justify-between flex-col gap-2 lg:items-center lg:flex-row py-3 border-b border-gray-100",children:[(0,b.jsxs)("span",{className:"text-gray-600 flex items-center gap-2",children:[(0,b.jsx)(f,{className:"w-4 h-4"})," Date of Birth"]}),B?(0,b.jsx)("input",{type:"date",value:H.formData.dateOfBirth,onChange:a=>H.updateField("dateOfBirth",a.target.value),className:"px-4 py-2 border rounded-lg"}):(0,b.jsx)("span",{className:"font-medium",children:H.formData.dateOfBirth?new Date(H.formData.dateOfBirth).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}):"Not specified"})]}),(0,b.jsxs)("div",{className:"flex lg:justify-between flex-col gap-2 lg:items-center lg:flex-row py-3 border-b border-gray-100",children:[(0,b.jsxs)("span",{className:"text-gray-600 flex items-center gap-2",children:[(0,b.jsx)(g,{className:"w-4 h-4"})," Birth Time"]}),B?(0,b.jsx)("input",{type:"time",value:H.formData.birthTime,onChange:a=>H.updateField("birthTime",a.target.value),className:"px-4 py-2 border rounded-lg"}):(0,b.jsx)("span",{className:"font-medium",children:H.formData.birthTime||"Not specified"})]}),(0,b.jsxs)("div",{className:"flex lg:justify-between flex-col gap-2 lg:items-center lg:flex-row py-3",children:[(0,b.jsxs)("span",{className:"text-gray-600 flex items-center gap-2",children:[(0,b.jsx)(h,{className:"w-4 h-4"})," WhatsApp"]}),B?(0,b.jsx)("input",{type:"tel",value:H.formData.whatsappNumber,onChange:a=>H.updateField("whatsappNumber",a.target.value),placeholder:"+94...",className:"px-4 py-2 border rounded-lg"}):(0,b.jsx)("span",{className:"font-medium",children:H.formData.whatsappNumber||"Not specified"})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-black mb-6 flex items-center gap-3",children:[(0,b.jsx)(i,{className:"w-7 h-7 text-blue-600"})," Birth Place"]}),B?(0,b.jsxs)("div",{className:"space-y-4",children:[H.formData.birthLocation&&(0,b.jsxs)("div",{className:"bg-green-50 border-2 border-green-300 rounded-xl p-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(r.CheckCircle,{className:"w-6 h-6 text-green-600 shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-green-900",children:H.formData.birthLocation}),(0,b.jsxs)("p",{className:"text-sm text-green-700",children:["Lat: ",H.formData.latitude," | Lon:"," ",H.formData.longitude]})]})]}),(0,b.jsx)("button",{onClick:()=>{H.setFormData(a=>({...a,birthLocation:"",latitude:"",longitude:""})),V("")},className:"text-green-700 hover:text-green-900",children:(0,b.jsx)(l.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"text",value:U,onChange:a=>V(a.target.value),onFocus:()=>_(!0),placeholder:H.formData.birthLocation?"Change birth location...":"Search city in Sri Lanka...",className:`w-full pl-11 pr-10 py-3 border-2 rounded-lg focus:border-blue-600 outline-none transition-all ${H.formData.birthLocation?"border-green-300 bg-green-50":"border-gray-300"}`}),(0,b.jsx)(m.Search,{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400"}),U&&(0,b.jsx)("button",{onClick:()=>V(""),className:"absolute right-3 top-3.5",children:(0,b.jsx)(l.X,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})}),$&&(0,b.jsx)("div",{className:"absolute left-0 right-0 mt-2 bg-white border-2 border-gray-200 rounded-lg shadow-2xl z-50 max-h-60 overflow-y-auto",children:Y?(0,b.jsxs)("div",{className:"p-4 flex items-center gap-3",children:[(0,b.jsx)(n.Loader2,{className:"w-5 h-5 animate-spin"})," ","Searching..."]}):W.length>0?W.map((a,c)=>(0,b.jsxs)("button",{onClick:()=>{let b;return b=a.display_place||a.display_name.split(",")[0],void(H.setFormData(c=>({...c,birthLocation:b,latitude:parseFloat(a.lat).toFixed(6),longitude:parseFloat(a.lon).toFixed(6)})),V(b),_(!1),X([]),u.default.success(`Birth location set to ${b}`,{icon:"ðŸ—ºï¸",style:{background:"#10b981",color:"white"}}))},className:"w-full text-left px-4 py-3 hover:bg-blue-50 border-b last:border-b-0 flex gap-3",children:[(0,b.jsx)(i,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.display_place||a.display_name.split(",")[0]}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Sri Lanka"})]})]},c)):U.length>=2?(0,b.jsx)("div",{className:"p-4 text-gray-500",children:"No results found"}):null})]})]}):H.formData.birthLocation?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-6",children:[(0,b.jsx)("p",{className:"text-lg font-bold text-black mb-3",children:H.formData.birthLocation}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"bg-white p-4 rounded-lg",children:[(0,b.jsx)("span",{className:"text-gray-600 block",children:"Lat"}),(0,b.jsx)("code",{className:"font-mono text-blue-700 font-bold",children:H.formData.latitude})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-lg",children:[(0,b.jsx)("span",{className:"text-gray-600 block",children:"Lon"}),(0,b.jsx)("code",{className:"font-mono text-blue-700 font-bold",children:H.formData.longitude})]})]})]}),(0,b.jsxs)("a",{href:`https://www.google.com/maps?q=${H.formData.latitude},${H.formData.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-800",children:[(0,b.jsx)(p.Globe,{className:"w-5 h-5"})," View on Google Maps"]})]}):(0,b.jsx)("p",{className:"text-gray-500 italic",children:"Birth location not set"})]})]}),(0,b.jsxs)("div",{className:"mt-8 bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"border-b border-gray-200",children:(0,b.jsxs)("nav",{className:"flex",children:[(0,b.jsx)("button",{onClick:()=>ak("packages"),className:`flex-1 px-6 py-4 text-center font-semibold transition-colors ${"packages"===aj?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:"Subscription Plans"}),(0,b.jsx)("button",{onClick:()=>ak("history"),className:`flex-1 px-6 py-4 text-center font-semibold transition-colors ${"history"===aj?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:"Purchase History"})]})}),"packages"===aj&&(0,b.jsxs)("div",{className:"lg:p-8 p-0",children:[(0,b.jsx)("h2",{className:"text-3xl font-bold lg:p-0 py-4 px-8 text-gray-900 mb-2",children:"Choose Your Plan"}),(0,b.jsx)("p",{className:"text-gray-600 mb-8 lg:p-0 py-2 px-8",children:"Select the perfect plan for your astrology journey"}),(0,b.jsx)(z,{subscriptionPackages:af,curruntPackageid:Number(I?.subscription?.id),expireDate:"",startDate:"",onUpgrade:aq})]}),"history"===aj&&(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Purchase History"}),(0,b.jsx)("p",{className:"text-gray-600 mb-8",children:"View all your subscription purchases and transactions"}),al.length>0?(0,b.jsx)("div",{className:"space-y-4",children:al.map((a,c)=>(0,b.jsx)("div",{className:"border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-all",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:a.packageName}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"completed"===a.status?"bg-green-100 text-green-800":"pending"===a.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:a.status.toUpperCase()})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Date:"})," ",new Date(a.date).toLocaleDateString()]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Duration:"})," ",a.duration]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Amount:"})," LKR"," ",a.amount.toLocaleString()]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Transaction ID:"})," ",a.transactionId]})]})]}),(0,b.jsx)("div",{className:"flex flex-col gap-2",children:(0,b.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"View Invoice"})})]})},c))}):(0,b.jsxs)("div",{className:"text-center py-16",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gray-100 rounded-full mb-4",children:(0,b.jsx)(f,{className:"w-10 h-10 text-gray-400"})}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Purchase History"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"You haven't made any purchases yet"}),(0,b.jsx)("button",{onClick:()=>ak("packages"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Browse Plans"})]})]})]})]}),B&&(0,b.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-200 shadow-2xl z-50",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-6 py-4 flex gap-3 justify-end",children:[(0,b.jsxs)("button",{onClick:()=>{a&&(H.setFormData({gender:a.gender||"",dateOfBirth:a.dateOfBirth||"",birthTime:a.birthTime||"",whatsappNumber:a.whatsappNumber||"",birthLocation:a.birthLocation||"",latitude:a.latitude||"",longitude:a.longitude||"",jobs:a.jobs||[],education:a.education||[]}),N(a.jobs.map(a=>({option:a,category:an(Q,a)}))),P(a.education.map(a=>({option:a,category:an(S,a)}))),V(a.birthLocation||""),ac(a.profileImage||""),ae(null)),C(!1)},className:"bg-gray-500 text-white px-6 py-3 rounded-lg font-bold hover:bg-gray-600 flex items-center gap-2 shadow-lg",children:[(0,b.jsx)(l.X,{className:"w-5 h-5"})," Cancel"]}),(0,b.jsxs)("button",{onClick:ap,disabled:D,className:"bg-green-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-700 flex items-center gap-2 shadow-lg disabled:opacity-70",children:[D?(0,b.jsx)(n.Loader2,{className:"w-5 h-5 animate-spin"}):(0,b.jsx)(k.Save,{className:"w-5 h-5"}),D?"Saving...":"Save Changes"]})]})})]})]})}a.s(["default",()=>A],65066)}];

//# sourceMappingURL=app_profile_page_tsx_d7e3fb30._.js.map