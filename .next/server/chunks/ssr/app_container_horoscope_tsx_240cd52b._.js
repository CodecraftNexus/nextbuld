module.exports=[88802,a=>{"use strict";var b=a.i(87924),c=a.i(46842),d=a.i(96221),e=a.i(10918),f=a.i(38246),g=a.i(72131),h=a.i(50944),i=a.i(25086),j=a.i(89646),k=a.i(33441),l=a.i(70106);let m=(0,l.default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);var n=a.i(33508);let o=({predictionTitle:a,planet:c,feedbackStatus:d,handleCorrect:e,handleInCorrect:f,handleUndecided:g,predictionContent:h})=>(0,b.jsxs)("div",{className:"w-full flex flex-col mt-12 gap-6 mx-auto bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden border border-purple-100 p-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold funnel-sans-text",children:a}),(0,b.jsx)("div",{className:"h-1 w-16 sm:w-20 bg-black/30 rounded-full mt-2"}),h?.map((a,h)=>(0,b.jsxs)("div",{className:"flex flex-col gap-4 mt-4",children:[(0,b.jsx)("h4",{className:"capitalize text-xl font-bold funnel-sans-text",children:a.title}),a?.predictionText?.map((h,i)=>{let j=`${c}-${h}-${a.title}`,l=d?.[j];return(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-linear-to-r from-purple-600 to-indigo-600"}),(0,b.jsx)("span",{className:`${"incorrect"===l?"text-red-500":"correct"===l?"text-green-500":"Undecided"===l?"text-blue-500":"text-gray-700"}  text-md funnel-sans-text capitalize`,children:h}),l?"":(0,b.jsxs)("div",{className:"ml-auto flex items-center gap-2 lg:flex-row flex-col",children:[(0,b.jsx)("button",{onClick:()=>e?.(c,h,a.title),className:"p-1 rounded text-white transition-all bg-green-600 hover:bg-green-700",title:"Correct",children:(0,b.jsx)(k.Check,{size:14})}),(0,b.jsx)("button",{onClick:()=>f?.(c,h,a.title),className:"p-1 rounded text-white transition-all  bg-red-600 hover:bg-red-700",title:"Incorrect",children:(0,b.jsx)(n.X,{size:14})}),(0,b.jsx)("button",{onClick:()=>g?.(c,h,a.title),className:"bg-blue-600 p-1 rounded text-white hover:bg-blue-700 transition-all",title:"Undecided",children:(0,b.jsx)(m,{size:14})})]})]},i)})]},h))]});var p=a.i(3631),q=a.i(14548),r=a.i(15618),s=a.i(81560),t=a.i(16201);let u=(0,l.default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),v=(0,l.default)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);var w=a.i(6704);let x={career:"ඔබගේ රැකියාව",personal:"පුද්ගලික තොරතුරු",property:"දේපළ තොරතුරු",family:"පවුල් තොරතුරු",physical:"ශාරීරික ලක්ෂණ",travel:"විදේස් සංචාර",education:"අධ්‍යාපන තොරතුරු",interests:"රුචිකත්ව",health:"සෞඛ්‍ය තොරතුරු",sports:"ක්‍රීඩා",family_deceased:"මිය ගිය පවුල් සාමාජිකයින්"},y=({options:a,placeholder:c,onChange:d,value:e})=>{let[f,h]=(0,g.useState)(!1),[i,j]=(0,g.useState)(""),k=Object.entries(a).reduce((a,[b,c])=>{let d=c.filter(a=>a.toLowerCase().includes(i.toLowerCase()));return d.length>0&&(a[b]=d),a},{});return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("div",{className:"border-2 border-gray-200 rounded-lg p-3 min-h-[50px] flex flex-wrap gap-2",children:[e.map((a,c)=>(0,b.jsxs)("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[a.option,(0,b.jsx)("button",{onClick:()=>{var b;return b=a.option,void d(e.filter(a=>a.option!==b))},className:"hover:text-blue-600",children:"×"})]},c)),(0,b.jsx)("input",{type:"text",placeholder:0===e.length?c:"",value:i,onChange:a=>j(a.target.value),onFocus:()=>h(!0),className:"flex-1 outline-none min-w-[200px]"})]}),f&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>h(!1)}),(0,b.jsxs)("div",{className:"absolute z-20 w-full mt-2 bg-white border-2 border-gray-200 rounded-lg shadow-xl max-h-80 overflow-y-auto",children:[Object.entries(k).map(([a,c])=>(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"bg-gray-100 px-4 py-2 font-semibold text-gray-700 sticky top-0",children:a}),c.map(c=>{let f=e.some(a=>a.option===c);return(0,b.jsx)("button",{onClick:()=>{e.some(a=>a.option===c)?d(e.filter(a=>a.option!==c)):d([...e,{option:c,category:a}])},className:`w-full text-left px-4 py-2 hover:bg-blue-50 ${f?"bg-blue-100 font-medium":""}`,children:c},c)})]},a)),0===Object.keys(k).length&&(0,b.jsx)("div",{className:"px-4 py-8 text-center text-gray-500",children:"No results found"})]})]})]})};function z({onLoadStart:a,onLoadComplete:c}){let{user:f,GetSurveyQuestions:h,GetUserSurveyAnswers:i,GetDeceasedFamily:j,DeleteDeceasedMember:k,SaveSurveyAnswers:l,saveDeceasedFamily:m,getJobsOptions:n,getEducationOptions:o,updateProfile:p}=(0,e.useAuth)(),[z,A]=(0,g.useState)([]),[B,C]=(0,g.useState)({}),[D,E]=(0,g.useState)([]),[F,G]=(0,g.useState)(!0),[H,I]=(0,g.useState)(!1),[J,K]=(0,g.useState)(!1),[L,M]=(0,g.useState)([]),[N,O]=(0,g.useState)([]),[P,Q]=(0,g.useState)({}),[R,S]=(0,g.useState)({});(0,g.useEffect)(()=>{(async()=>{if(f){a?.(),G(!0);try{let[a,b,c,d,e]=await Promise.all([h(),i(),j(),n(),o()]);a.success&&A(a.data),b.success&&C(b.data||{}),c.success&&E(c.data||[]),Q(d),S(e)}catch(a){console.error("Error loading survey data:",a),w.default.error("Failed to load survey data")}finally{G(!1),c?.()}}})()},[f]),(0,g.useEffect)(()=>{if(f&&z.length>0){let a={...B};z.find(a=>"preferred_jobs"===a.question_key)&&f.jobs&&f.jobs.length>0&&(a.preferred_jobs=f.jobs),z.find(a=>"education_qualifications"===a.question_key)&&f.education&&f.education.length>0&&(a.education_qualifications=f.education),C(a)}},[f,z]),(0,g.useEffect)(()=>{let a=(a,b)=>{for(let[c,d]of Object.entries(a))if(d.includes(b))return c;return""};Object.keys(P).length>0&&f?.jobs&&M(f.jobs.map(b=>({option:b,category:a(P,b)}))),Object.keys(R).length>0&&f?.education&&O(f.education.map(b=>({option:b,category:a(R,b)})))},[P,R,f]);let T=a=>{if(!a.parent_question_key)return!0;let b=B[a.parent_question_key];return!!b&&b===a.parent_answer_condition},U=(a,b)=>{C(c=>{let d={...c,[a]:b};return z.filter(b=>b.parent_question_key===a).forEach(a=>{b!==a.parent_answer_condition&&delete d[a.question_key]}),d}),"has_deceased_family"===a&&"no"===b&&E([])},V=async a=>{if("number"==typeof a&&a<Date.now()-1e6)try{await k(a)}catch(a){console.error("Error deleting member:",a),w.default.error("Failed to delete member");return}E(b=>b.filter(b=>b.id!==a))},W=(a,b,c)=>{E(d=>d.map(d=>d.id===a?{...d,[b]:c}:d))},X=async()=>{I(!0);try{let a={...B,preferred_jobs:L.map(a=>a.option),education_qualifications:N.map(a=>a.option)};if(!(await l(a)).success)throw Error("Failed to save answers");if("yes"===B.has_deceased_family&&D.length>0&&!(await m(D)).success)throw Error("Failed to save deceased family members");let b={jobs:L.map(a=>a.option),education:N.map(a=>a.option)};await p(b),w.default.success("Survey saved successfully!"),K(!0),setTimeout(()=>K(!1),3e3)}catch(a){console.error("Save error:",a),w.default.error(a.message||"Failed to save survey")}finally{I(!1)}},Y=z.reduce((a,b)=>{let c=b.category||"other";return a[c]||(a[c]=[]),a[c].push(b),a},{});return F?(0,b.jsx)("div",{className:"min-h-screen bg-linear-to-br from-purple-50 to-blue-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(d.Loader2,{className:"w-16 h-16 animate-spin text-purple-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-xl text-gray-700",children:"ප්‍රශ්න පූරණය කරමින්..."})]})}):(0,b.jsx)("div",{className:"min-h-screen bg-linear-to-br from-purple-50 via-blue-50 to-indigo-50 py-8 px-4",children:(0,b.jsx)("div",{className:"w-full mx-auto",children:(0,b.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden mb-8",children:[(0,b.jsxs)("div",{className:"bg-linear-to-r from-purple-600 to-indigo-600 p-8 text-white",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"පරිශීලක තොරතුරු සමීක්ෂණය"}),(0,b.jsx)("p",{className:"text-purple-100",children:"ඔබේ ජන්ම පත්‍රය වඩාත් නිවැරදිව විශ්ලේෂණය කිරීම සඳහා මෙම තොරතුරු අත්‍යව්‍යයි"})]}),(0,b.jsxs)("div",{className:"p-8 space-y-8",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 border-b-2 border-purple-200 pb-2 flex items-center gap-3",children:[(0,b.jsx)(u,{className:"w-7 h-7 text-purple-600"}),"ඔබගේ රැකියාව"]}),(0,b.jsxs)("div",{className:"bg-linear-to-r from-gray-50 to-gray-100 p-6 rounded-xl border-l-4 border-purple-500",children:[(0,b.jsx)("label",{className:"block mb-3",children:(0,b.jsx)("span",{className:"text-lg font-semibold text-gray-800",children:"ඔබගේ රැකියාව තෝරන්න"})}),(0,b.jsx)(y,{options:P,placeholder:"ඔබගේ රැකියාව සොයන්න...",onChange:a=>{M(a)},value:L})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 border-b-2 border-purple-200 pb-2 flex items-center gap-3",children:[(0,b.jsx)(v,{className:"w-7 h-7 text-purple-600"}),"අධ්‍යාපන සුදුසුකම්"]}),(0,b.jsxs)("div",{className:"bg-linear-to-r from-gray-50 to-gray-100 p-6 rounded-xl border-l-4 border-purple-500",children:[(0,b.jsx)("label",{className:"block mb-3",children:(0,b.jsx)("span",{className:"text-lg font-semibold text-gray-800",children:"ඔබගේ අධ්‍යාපන සුදුසුකම් තෝරන්න"})}),(0,b.jsx)(y,{options:R,placeholder:"ඔබගේ අධ්‍යාපන සුදුසුකම් සොයන්න...",onChange:a=>{O(a)},value:N})]})]}),Object.entries(Y).map(([a,c])=>(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-800 border-b-2 border-purple-200 pb-2",children:x[a]||a}),c.filter(T).sort((a,b)=>a.display_order-b.display_order).map(a=>(0,b.jsxs)("div",{className:"bg-linear-to-r from-gray-50 to-gray-100 p-6 rounded-xl border-l-4 border-purple-500",children:[(0,b.jsx)("label",{className:"block mb-3",children:(0,b.jsx)("span",{className:"text-lg font-semibold text-gray-800",children:a.question_text_si})}),(a=>{let c=B[a.question_key]||"";switch(a.question_type){case"yes_no":return(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{onClick:()=>U(a.question_key,"yes"),className:`flex-1 py-3 px-6 rounded-lg font-medium transition-all ${"yes"===c?"bg-green-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"ඔව්"}),(0,b.jsx)("button",{onClick:()=>U(a.question_key,"no"),className:`flex-1 py-3 px-6 rounded-lg font-medium transition-all ${"no"===c?"bg-red-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"නැත"})]});case"select":return(0,b.jsxs)("select",{value:c,onChange:b=>U(a.question_key,b.target.value),className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all",children:[(0,b.jsx)("option",{value:"",children:"තෝරන්න..."}),a.options?.map((a,c)=>(0,b.jsx)("option",{value:a,children:a},c))]});case"multi_select":return(0,b.jsx)("div",{className:"space-y-2",children:a.options?.map((d,e)=>(0,b.jsxs)("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition-all",children:[(0,b.jsx)("input",{type:"checkbox",checked:(c||[]).includes(d),onChange:()=>{var b;let c,e;return b=a.question_key,e=(c=B[b]||[]).includes(d)?c.filter(a=>a!==d):[...c,d],void C(a=>({...a,[b]:e}))},className:"w-5 h-5 text-purple-600 rounded focus:ring-2 focus:ring-purple-500"}),(0,b.jsx)("span",{className:"font-medium",children:d})]},e))});case"text":return(0,b.jsx)("input",{type:"text",value:c,onChange:b=>U(a.question_key,b.target.value),className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all",placeholder:"ඔබේ පිළිතුර..."});case"number":return(0,b.jsx)("input",{type:"number",value:c,onChange:b=>U(a.question_key,b.target.value),className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all",placeholder:"සංඛ්‍යාව..."});case"year":return(0,b.jsx)("input",{type:"number",value:c,onChange:b=>U(a.question_key,b.target.value),className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all",placeholder:"වර්ෂය...",min:"1900",max:new Date().getFullYear()});case"date":return(0,b.jsx)("input",{type:"date",value:c,onChange:b=>U(a.question_key,b.target.value),className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all"});case"color":return(0,b.jsx)("input",{type:"color",value:c||"#000000",onChange:b=>U(a.question_key,b.target.value),className:"w-full h-12 rounded-lg cursor-pointer"});default:return null}})(a)]},a.id))]},a)),"yes"===B.has_deceased_family&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"මිය ගිය පවුල් සාමාජිකයින්"}),(0,b.jsxs)("button",{onClick:()=>{E(a=>[...a,{id:Date.now(),relationship:"",date_of_birth:"",birth_time:"",birth_location:"",year_of_death:"",cause_of_death:""}])},className:"flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:[(0,b.jsx)(r.Plus,{size:20}),"එකතු කරන්න"]})]}),D.map((a,c)=>(0,b.jsxs)("div",{className:"bg-linear-to-r from-red-50 to-orange-50 p-6 rounded-xl border-l-4 border-red-500",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold",children:["සාමාජිකයා #",c+1]}),(0,b.jsx)("button",{onClick:()=>V(a.id),className:"text-red-600 hover:text-red-800 transition-colors",children:(0,b.jsx)(s.Trash2,{size:20})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"ඥාතිත්වය"}),(0,b.jsx)("input",{type:"text",value:a.relationship,onChange:b=>W(a.id,"relationship",b.target.value),className:"w-full p-3 border-2 border-gray-200 rounded-lg",placeholder:"උදා: පියා, මව, සහෝදරයා"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"උපන් දිනය"}),(0,b.jsx)("input",{type:"date",value:a.date_of_birth,onChange:b=>W(a.id,"date_of_birth",b.target.value),className:"w-full p-3 border-2 border-gray-200 rounded-lg"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"උපන් වේලාව"}),(0,b.jsx)("input",{type:"time",value:a.birth_time,onChange:b=>W(a.id,"birth_time",b.target.value),className:"w-full p-3 border-2 border-gray-200 rounded-lg"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"උපන් ස්ථානය"}),(0,b.jsx)("input",{type:"text",value:a.birth_location,onChange:b=>W(a.id,"birth_location",b.target.value),className:"w-full p-3 border-2 border-gray-200 rounded-lg"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"මිය ගිය වර්ෂය"}),(0,b.jsx)("input",{type:"number",value:a.year_of_death,onChange:b=>W(a.id,"year_of_death",b.target.value),className:"w-full p-3 border-2 border-gray-200 rounded-lg",placeholder:"වර්ෂය"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"මරණයට හේතුව"}),(0,b.jsx)("input",{type:"text",value:a.cause_of_death,onChange:b=>W(a.id,"cause_of_death",b.target.value),className:"w-full p-3 border-2 border-gray-200 rounded-lg"})]})]})]},a.id))]})]}),(0,b.jsx)("div",{className:"bg-gray-50 p-8 border-t",children:(0,b.jsx)("button",{onClick:X,disabled:H,className:"w-full bg-linear-to-r from-purple-600 to-indigo-600 text-white py-4 rounded-xl font-bold text-lg hover:from-purple-700 hover:to-indigo-700 transition-all disabled:opacity-50 flex items-center justify-center gap-3",children:H?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.Loader2,{className:"animate-spin",size:24}),"සුරකිමින්..."]}):J?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(t.CheckCircle,{size:24}),"සුරකින ලදී!"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q.Save,{size:24}),"තොරතුරු සුරකින්න"]})})})]})})})}a.s(["default",0,()=>{let{user:a,isAuthenticated:k,GetPlanet:l,Getmahadasha:m,planet:n,mahadasha:q,anthardahsa:r,getAntharDasha:s,predictions:t,preditions:u,Getnavam:v,astro:w,AstroLogic:x,navam:y,loading:A,HandleFeedback:B,GetFeedbackStatus:C}=(0,e.useAuth)(),D=(0,h.useRouter)(),[E,F]=(0,g.useState)(!1),[G,H]=(0,g.useState)(!0),I=a?.isProfileComplete,[J,K]=(0,g.useState)({}),L=(0,g.useRef)(!1),M=(0,g.useRef)(null);if((0,g.useEffect)(()=>{!1==k&&D.push("/auth")},[k]),(0,g.useEffect)(()=>{a?.id&&a.id!==M.current&&(console.log("User changed, resetting data..."),M.current=a.id,L.current=!1,F(!1),H(!0))},[a?.id]),(0,g.useEffect)(()=>{if(!k){L.current=!1,F(!1),H(!0),M.current=null;return}if(!I||L.current)return;L.current=!0,H(!0);let a=async()=>{if(!k||!I)return;let a=await C(),b={};a.feedbacks.forEach(a=>{b[a.key]=a.status}),K(b)};(async()=>{try{await Promise.all([l(),m(),s(),v(),x()]),await Promise.all(["Sun","Moon","Mercury","Venus","Mars","Saturn","Jupiter","Rahu","Ketu"].map(a=>u(a))),F(!0),H(!1)}catch(a){console.error("Error loading data:",a),L.current=!1,H(!1)}})(),a()},[k,I,a?.id]),(0,g.useEffect)(()=>{!G||["Sun","Moon","Mercury","Venus","Mars","Saturn","Jupiter","Rahu","Ketu"].every(a=>t[a]?.result?.data?.predictions)&&(F(!0),H(!1))},[t,G]),!k||null===a)return(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(d.Loader2,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600 text-lg",children:"Redirecting to authentication..."})]})});if(!I)return(0,b.jsx)("div",{className:"min-h-screen bg-linear-to-br from-blue-600 via-indigo-700 to-purple-800 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-10 border border-white/20",children:[(0,b.jsx)("div",{className:"flex justify-center mb-8",children:(0,b.jsx)("div",{className:"bg-white/90 rounded-full p-6 shadow-2xl",children:(0,b.jsx)(c.User,{className:"w-20 h-20 text-indigo-700",strokeWidth:2.5})})}),(0,b.jsx)("h1",{className:"text-white text-4xl font-bold text-center mb-4",children:"පළමුව ඔබේ තොරතුරු පුරවන්න"}),(0,b.jsx)("p",{className:"text-blue-100 text-center text-lg mb-10",children:"නිවැරදි ජන්ම පත්‍රයක් ලබාගැනීමට ඔබේ උපන් දිනය, වේලාව සහ ස්ථානය අවශ්‍යයි"}),(0,b.jsx)(f.default,{href:"/profile",children:(0,b.jsx)("button",{className:"w-full bg-white text-indigo-700 font-bold text-xl py-5 px-8 rounded-2xl hover:bg-blue-50 transition-all duration-300 shadow-2xl hover:shadow-indigo-500/50 transform hover:scale-105",children:"ප්‍රොෆයිල් පිරවීමට යන්න"})})]})});if(A||!E||G)return(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(d.Loader2,{className:"w-16 h-16 animate-spin text-purple-600 mx-auto mb-6"}),(0,b.jsx)("p",{className:"text-xl text-gray-700 font-medium",children:E?"ඔබේ ජන්ම පත්‍රය ගණනය කරමින්...":"අනාවැකි ලබාගනිමින්..."}),(0,b.jsx)("p",{className:"text-gray-500 mt-2",children:"මද වේලාවක් රැඳී සිටින්න"})]})});if(!n?.result?.data||!q?.result?.data||!r?.result?.data||!y?.result?.data||!w?.result?.data)return(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-8 text-center max-w-md",children:[(0,b.jsx)("p",{className:"text-red-700 text-xl font-semibold mb-2",children:"ජන්ම පත්‍රය ලැබී නැහැ :("}),(0,b.jsx)("p",{className:"text-red-600",children:"නැවත උත්සාහ කරන්න හෝ පසුව එන්න"})]})});let N=n.result.data,O=q.result.data,P=r.result.data,Q=y.result.data,R=w.result.data,S=async(a,b,c)=>{let d=await B(a,b,c,"correct"),e=`${d.key}`;K(a=>({...a,[e]:d.status}))},T=async(a,b,c)=>{let d=await B(a,b,c,"incorrect"),e=`${d.key}`;K(a=>({...a,[e]:d.status}))},U=async(a,b,c)=>{let d=await B(a,b,c,"Undecided"),e=`${d.key}`;K(a=>({...a,[e]:d.status}))},V=a=>{let b=t[a]?.result?.data?.predictions;return b&&b[0]?Object.entries(b[0]).filter(([a])=>"Predictionsname"!==a).map(([a,b])=>({title:a,predictionText:b.split(".").filter(a=>""!==a.trim()).map(a=>a.trim()+".")})):[]},W=O.current_mahadasha_set,X=P.current_antardasha_set;return(0,b.jsxs)("div",{className:"w-full min-h-screen px-4 py-6 md:py-8",children:[(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 w-full justify-center lg:items-center items-start pb-8 lg:gap-10 font-bold text-md shadow mb-4",children:[(0,b.jsxs)("span",{className:"flex gap-2 items-center",children:[(0,b.jsx)("div",{className:"w-3 h-3 bg-blue-400 rounded-full"})," Date of Birth - ",a.dateOfBirth]}),(0,b.jsxs)("span",{className:"flex gap-2 items-center",children:[(0,b.jsx)("div",{className:"w-3 h-3 bg-blue-400 rounded-full"}),"Time of Birth - ",a.birthTime]}),(0,b.jsxs)("span",{className:"flex gap-2 items-center",children:[(0,b.jsx)("div",{className:"w-3 h-3 bg-blue-400 rounded-full"}),"Birth location - ",a.birthLocation]})]}),(0,b.jsx)("div",{className:"mx-auto",children:(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-4 items-start justify-center",children:[(0,b.jsxs)("div",{className:"wrapper flex-col gap-14 w-full lg:w-1/2 flex justify-center items-center",children:[(0,b.jsx)(i.default,{data:N,lagnaya:n?.result?.data?.lagnaya,isHoroscope:!0}),(0,b.jsx)(i.default,{data:Q,lagnaya:y?.result?.data?.lagnaya,isHoroscope:!1})]}),(0,b.jsx)("div",{className:"w-full lg:w-1/2 flex justify-center",children:(0,b.jsxs)("div",{className:"flex flex-col gap-6 w-full",children:[(0,b.jsx)(j.default,{items:W,ismahaDaha:!0}),(0,b.jsx)(j.default,{items:X,ismahaDaha:!1})]})})]})}),(0,b.jsx)(p.default,{astroData:R}),(0,b.jsx)("div",{className:"group w-full mt-5",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden border border-purple-100",children:[(0,b.jsxs)("div",{className:"bg-linear-to-r from-purple-600 to-indigo-600 p-4 sm:p-6",children:[(0,b.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-white tracking-wide",children:"Prediction"}),(0,b.jsx)("div",{className:"h-1 w-16 sm:w-20 bg-white/30 rounded-full mt-2"})]}),(0,b.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,b.jsx)(o,{predictionTitle:"සූර්‍යයාට අනුව ඔබගේ බලපෑම",predictionContent:V("Sun"),handleCorrect:S,handleInCorrect:T,handleUndecided:U,planet:"Sun",feedbackStatus:J}),(0,b.jsx)(o,{predictionTitle:"චන්ද්‍රයාට අනුව ඔබගේ බලපෑම",predictionContent:V("Moon"),planet:"Moon",handleCorrect:S,handleInCorrect:T,handleUndecided:U,feedbackStatus:J}),(0,b.jsx)(o,{predictionTitle:"බුධ ග්‍රහයාට අනුව ඔබගේ බලපෑම",predictionContent:V("Mercury"),handleCorrect:S,handleInCorrect:T,handleUndecided:U,planet:"Mercury",feedbackStatus:J}),(0,b.jsx)(o,{predictionTitle:"ශුක්‍ර ග්‍රහයාට අනුව ඔබගේ බලපෑම",predictionContent:V("Venus"),handleCorrect:S,handleInCorrect:T,handleUndecided:U,planet:"Venus",feedbackStatus:J}),(0,b.jsx)(o,{predictionTitle:"අඟහරු ග්‍රහයාට අනුව ඔබගේ බලපෑම",predictionContent:V("Mars"),handleCorrect:S,handleInCorrect:T,handleUndecided:U,planet:"Mars",feedbackStatus:J}),(0,b.jsx)(o,{predictionTitle:"සෙනසුරු ග්‍රහයාට අනුව ඔබගේ බලපෑම",predictionContent:V("Saturn"),handleCorrect:S,handleInCorrect:T,handleUndecided:U,planet:"Saturn",feedbackStatus:J}),(0,b.jsx)(o,{predictionTitle:"බ්‍රහස්පති ග්‍රහයාට අනුව ඔබගේ බලපෑම",predictionContent:V("Jupiter"),handleCorrect:S,handleInCorrect:T,handleUndecided:U,planet:"Jupiter",feedbackStatus:J}),(0,b.jsx)(o,{predictionTitle:"රාහුට අනුව ඔබගේ බලපෑම",predictionContent:V("Rahu"),handleCorrect:S,handleInCorrect:T,handleUndecided:U,planet:"Rahu",feedbackStatus:J}),(0,b.jsx)(o,{predictionTitle:"කේතුට අනුව ඔබගේ බලපෑම",predictionContent:V("Ketu"),handleCorrect:S,handleInCorrect:T,handleUndecided:U,planet:"Ketu",feedbackStatus:J})]})]})}),(0,b.jsx)(z,{})]})}],88802)}];

//# sourceMappingURL=app_container_horoscope_tsx_240cd52b._.js.map