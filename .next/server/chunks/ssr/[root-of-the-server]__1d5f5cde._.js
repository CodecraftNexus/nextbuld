module.exports=[72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},10918,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(20094),f=a.i(27395);let g=async a=>{try{let b=a?`/api/profile?id=${a}`:"/api/profile",c=await f.apiClient.get(b);return{success:!0,user:c}}catch(a){return{success:!1,error:a.message}}},h=async a=>await f.apiClient.post("/api/auth/login",a),i=async a=>await f.apiClient.post("/api/auth/register",a),j=async a=>await f.apiClient.put("/api/profile",a),k=async()=>{try{await f.apiClient.post("/api/auth/logout")}catch(a){throw console.error("Logout error:",a),a}},l=async()=>{try{let a=await f.apiClient.post("/api/planethouse");return{success:!0,palentData:a}}catch(a){return{success:!1,error:a.message}}},m=async()=>{try{let a=await f.apiClient.post("/api/mahadasha");return{success:!0,MahadashaData:a}}catch(a){return{success:!1,error:a.message}}},n=async()=>{try{let a=await f.apiClient.post("/api/anthardasha");return{success:!0,AnthardashaData:a}}catch(a){return{success:!1,error:a.message}}},o=async a=>{try{let b=await f.apiClient.post("/api/auth/google-login",{idToken:a}),c=b?.requiresUsername;return{success:!0,user:b,requiresUsername:c}}catch(a){return{success:!1,error:a.message}}},p=async a=>{try{let b=await f.apiClient.post(`/api/prediction/${a}`);return{success:!0,predictions:b}}catch(a){return{success:!1,error:a.message}}},q=async()=>{try{let a=await f.apiClient.get("/api/jobs/options");return{success:!0,options:a}}catch(a){return{success:!1,error:a.message}}},r=async()=>{try{let a=await f.apiClient.get("/api/education/options");return{success:!0,options:a}}catch(a){return{success:!1,error:a.message}}},s=async a=>{try{let b=await f.apiClient.post("/api/profile/switch",{profileId:a});return b.token&&localStorage.setItem("auth_token",b.token),{success:!0,data:b}}catch(a){return console.error("Profile switch failed:",a),{success:!1,error:a.message}}},t=async(a,b)=>{try{let c=await f.apiClient.post("/api/addProfile",{name:a,nikname:b});return{success:!0,data:c}}catch(a){return console.error("Add profile failed:",a),{success:!1,error:a.message}}},u=async()=>{try{let a=await f.apiClient.post("/api/navam");return{success:!0,navamData:a}}catch(a){return{success:!1,error:a.message}}},v=async()=>{try{let a=await f.apiClient.post("/api/astrologic");return{success:!0,AstroData:a}}catch(a){return{success:!1,error:a.message}}},w=(0,c.createContext)(void 0);a.s(["AuthProvider",0,({children:a})=>{let f=(0,d.useRouter)(),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)({}),[H,I]=(0,c.useState)(null),[J,K]=(0,c.useState)(null),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)(!0),[P,Q]=(0,c.useState)({}),R=(0,c.useRef)(!1),S=(0,c.useRef)(0),T=()=>Q({}),U=(0,c.useCallback)(async()=>{try{await Promise.allSettled([l().then(a=>{a.success&&A(a.palentData)}),u().then(a=>{a.success&&C(a.navamData)}),m().then(a=>{a.success&&I(a.MahadashaData)}),n().then(a=>{a.success&&K(a.AnthardashaData)})])}catch(a){console.error("Error fetching all data:",a)}},[]),V=(0,c.useCallback)(async a=>{let b=Date.now();if(R.current)return void console.log("Auth check already in progress, skipping...");if(b-S.current<500)return void console.log("Auth check debounced");R.current=!0,S.current=b,O(!0);try{let b=await g(a);b.success&&b.user?(y(b.user),M(!0),await U()):(y(null),M(!1),A(null),C(null),I(null),K(null),G({}))}catch(a){y(null),M(!1),A(null),C(null),I(null),K(null),G({})}finally{O(!1),R.current=!1}},[U]),W=(0,c.useCallback)(async a=>{if(!a)return void e.toast.error("Invalid profile ID");O(!0);try{let b=await s(a);if(b.success)await V(),e.toast.success("Profile switched successfully");else throw Error(b.error||"Failed to switch profile")}catch(a){throw console.error("Profile switch error:",a),e.toast.error(a.message||"Failed to switch profile"),a}finally{O(!1)}},[V]),X=(0,c.useCallback)(async(a,b)=>{if(!a||!b)return void e.toast.error("Name and nickname are required");O(!0);try{let c=await t(a,b);if(c.success)await V(),e.toast.success("Profile added successfully");else throw Error(c.error||"Failed to add profile")}catch(a){throw console.error("Add profile error:",a),e.toast.error(a.message||"Failed to add profile"),a}finally{O(!1)}},[V]),Y=(0,c.useCallback)(async()=>{if(L){O(!0);try{await U()}finally{O(!1)}}},[L,U]);(0,c.useEffect)(()=>{V(),T()},[]),(0,c.useEffect)(()=>{let a,b=()=>{L&&!R.current&&(a=setTimeout(()=>{V()},5e3))};return window.addEventListener("focus",b),()=>{window.removeEventListener("focus",b),clearTimeout(a)}},[L]);let Z=async a=>{T(),O(!0);try{await h(a),await V(),e.toast.success("Login Successful!"),f.push("/")}catch(b){let a=b.message||"Login failed. Please try again.";throw Q({general:a}),e.toast.error(a),b}finally{O(!1)}},$=async a=>{T(),O(!0);try{await j(a),await V(),e.toast.success("Profile updated successfully")}catch(a){if(a.errors&&"object"==typeof a.errors)Q(a.errors);else{let b=a.message||"Profile update failed";Q({general:b}),e.toast.error(b)}throw a}finally{O(!1)}},_=async a=>{T(),O(!0);try{await i(a),e.toast.success("Account Created Successfully!")}catch(a){if(a.errors&&"object"==typeof a.errors)Q(a.errors);else{let b=a.message||"Registration failed";Q({general:b}),e.toast.error(b)}throw a}finally{O(!1)}},aa=async()=>{try{await k(),y(null),A(null),C(null),I(null),K(null),G({}),M(!1),e.toast.info("Logged out successfully"),f.push("/auth")}catch(a){e.toast.error("Logout failed")}},ab=async()=>{try{O(!0);let a=await l();a.success?A(a.palentData):A(null)}catch(a){throw A(null),a}finally{O(!1)}},ac=async()=>{try{O(!0);let a=await m();a.success?I(a.MahadashaData):I(null)}catch(a){throw I(null),a}finally{O(!1)}},ad=async()=>{try{O(!0);let a=await n();a.success?K(a.AnthardashaData):K(null)}catch(a){throw K(null),a}finally{O(!1)}},ae=async a=>{O(!0),Q({});try{let b=await o(a);if(b.requiresUsername)return{success:!0,requiresUsername:!0,user:b.user};return y(b?.user),await V(),{success:!0,requiresUsername:!1,user:b.user}}catch(a){throw Q({general:a?.message||"Google login failed"}),a}finally{O(!1)}},af=async a=>{try{let b=await p(a);G(c=>({...c,[a]:b.predictions}))}catch(a){return{success:!1,error:a.message}}},ag=async()=>{try{let a=await q();if(a.success)return a.options;throw Error(a.error)}catch(a){throw a}},ah=async()=>{try{let a=await r();if(a.success)return a.options;throw Error(a.error)}catch(a){throw a}},ai=async()=>{try{O(!0);let a=await u();a.success?C(a.navamData):C(null)}catch(a){throw C(null),a}finally{O(!1)}},aj=async()=>{try{O(!0);let a=await v();a.success?E(a.AstroData):E(null)}catch(a){throw E(null),a}finally{O(!1)}};return(0,b.jsx)(w.Provider,{value:{astro:D,user:x,planet:z,isAuthenticated:L,loading:N,login:Z,logout:aa,checkAuth:V,switchProfile:W,addProfile:X,GetPlanet:ab,updateProfile:$,signUp:_,AstroLogic:aj,errors:P,clearErrors:T,mahadasha:H,Getmahadasha:ac,anthardahsa:J,getAntharDasha:ad,handleGoogleLogin:ae,preditions:af,predictions:F,getJobsOptions:ag,getEducationOptions:ah,Getnavam:ai,navam:B,refreshAllData:Y},children:a})},"useAuth",0,()=>{let a=(0,c.useContext)(w);if(!a)throw Error("useAuth must be used within AuthProvider");return a}],10918)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__1d5f5cde._.js.map